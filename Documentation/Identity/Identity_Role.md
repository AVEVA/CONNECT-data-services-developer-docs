---
uid: identityRole
---

# Role

APIs for creating, getting, updating, and deleting Roles.

## Properties

For HTTP requests and responses, the Role object has the following properties and JSON-serialized body: 

Property | Type | Descriptions
 --- | --- | --- | ---
Id | Guid | Gets or sets unique identifier for this Role. Generated by the server upon Creation.
Name | string | Gets or sets name of this Role.
Description | string | Gets or sets description of this Role.
RoleScope | RoleScope | Gets or sets scope of this Role.
TenantId | string | Gets or sets unique identifier of Tenant for this Role, if this is a Account Role, null otherwise.
CommunityId | Guid | Gets or sets unique identifier of Community for this Role, if this is a Community Role, null otherwise.
RoleTypeId | Guid | Gets or sets unique identifier of Role Type for this Role, if this is a Account Role and is not a customer defined Role.

### Serialized Model

```json
{
  "Id": "00000000-0000-0000-0000-000000000000",
  "Name": "Name",
  "Description": "description",
  "RoleScope": 0,
  "TenantId": "00000000-0000-0000-0000-000000000000",
  "CommunityId": "00000000-0000-0000-0000-000000000000",
  "RoleTypeId": "00000000-0000-0000-0000-000000000000"
}
```

***

## Base URL

All URLs referenced in this section have the following base:

`https://dat-b.osisoft.com/`

## Authentication

All endpoints referenced in this documentation require authenticated access. Authorization header must be set to the access token you retrieve after a successful authentication request.

`Authorization: Bearer <token>`

Requests made without an access token or an invalid/expired token will fail with a 401 Unauthorized response.
Requests made with an access token which does not have the correct permissions (see security subsection on every endpoint) will fail with a 403 Forbidden.
Read [here](https://github.com/osisoft/OSI-Samples-OCS/tree/master/basic_samples/Authentication) on how to authenticate against OCS with the various clients and receive an access token in response.

## Error Handling

All responses will have an error message in the body. The exceptions are 200 responses and the 401 Unauthorized response. The error message will look as follows:

```json
{
    "OperationId": "1b2af18e-8b27-4f86-93e0-6caa3e59b90c", 
    "Error": "Error message.", 
    "Reason": "Reason that caused error.", 
    "Resolution": "Possible solution for the error." 
}
```

If and when contacting OSIsoft support about this error, please provide the OperationId.

## `Get Roles`

Get all Roles for a Tenant.

### Request

`GET api/v1/Tenants/{tenantId}/Roles`

### Parameters

```csharp
[Required]
string tenantId
```

Id of tenant.

```csharp
[FromQuery]
[Optional]
[Default = ""]
string query
```

Query to execute. Currently not supported.

```csharp
[FromQuery]
[Optional]
[Default = 0]
int32 skip
```

Number of providers to skip.

```csharp
[FromQuery]
[Optional]
[Default = 100]
int32 count
```

Max number of providers to return.

### Security

Allowed for these roles:

- `Account Administrator`
- `Account Member`

### Returns

#### 200

Success.

##### Type:

 `List`

```json
[
  {
    "Id": "00000000-0000-0000-0000-000000000000",
    "Name": "Name",
    "Description": "description",
    "RoleScope": 0,
    "TenantId": "00000000-0000-0000-0000-000000000000",
    "CommunityId": "00000000-0000-0000-0000-000000000000",
    "RoleTypeId": "00000000-0000-0000-0000-000000000000"
  },
  {
    "Id": "00000000-0000-0000-0000-000000000000",
    "Name": "Name",
    "Description": "description",
    "RoleScope": 0,
    "TenantId": "00000000-0000-0000-0000-000000000000",
    "CommunityId": "00000000-0000-0000-0000-000000000000",
    "RoleTypeId": "00000000-0000-0000-0000-000000000000"
  }
]
```

#### 401

Unauthorized.

#### 403

Forbidden.

#### 404

Tenant not found.

#### 500

Internal server error.
***

## `Get Role`

Returns the specified Role.

### Request

`GET api/v1/Tenants/{tenantId}/Roles/{roleId}`

### Parameters

```csharp
[Required]
string tenantId
```

Tenant Id.

```csharp
[Required]
Guid roleId
```

Role Id.

### Security

Allowed for these roles:

- `Account Administrator`
- `Account Member`

### Returns

#### 200

Success.

##### Type:

 `Role`

```json
{
  "Id": "00000000-0000-0000-0000-000000000000",
  "Name": "Name",
  "Description": "description",
  "RoleScope": 0,
  "TenantId": "00000000-0000-0000-0000-000000000000",
  "CommunityId": "00000000-0000-0000-0000-000000000000",
  "RoleTypeId": "00000000-0000-0000-0000-000000000000"
}
```

#### 401

Unauthorized.

#### 403

Forbidden.

#### 404

Role or Tenant not found.

#### 500

Internal server error.
***

## `Create Role on Tenant`

Create a new Role for a Tenant.

### Request

`POST api/v1/Tenants/{tenantId}/Roles`

### Parameters

```csharp
[Required]
string tenantId
```

Tenant ID.

```csharp
[FromBody]
[Required]
Role role
```

Role to create.

Property | Type | Required | Description 
 --- | --- | --- | ---
Id | Guid | No | Gets or sets unique identifier for this Role. Generated by the server upon Creation.
Name | string | No | Gets or sets name of this Role.
Description | string | No | Gets or sets description of this Role.
RoleScope | RoleScope | No | Gets or sets scope of this Role.
TenantId | string | No | Gets or sets unique identifier of Tenant for this Role, if this is a Account Role, null otherwise.
CommunityId | Guid | No | Gets or sets unique identifier of Community for this Role, if this is a Community Role, null otherwise.
RoleTypeId | Guid | No | Gets or sets unique identifier of Role Type for this Role, if this is a Account Role and is not a customer defined Role.



```json
{
  "Id": "00000000-0000-0000-0000-000000000000",
  "Name": "Name",
  "Description": "description",
  "RoleScope": 0,
  "TenantId": "00000000-0000-0000-0000-000000000000",
  "CommunityId": "00000000-0000-0000-0000-000000000000",
  "RoleTypeId": "00000000-0000-0000-0000-000000000000"
}
```

### Security

Allowed for these roles:

- `Account Administrator`

### Returns

#### 201

Created.

##### Type:

 `Role`

```json
{
  "Id": "00000000-0000-0000-0000-000000000000",
  "Name": "Name",
  "Description": "description",
  "RoleScope": 0,
  "TenantId": "00000000-0000-0000-0000-000000000000",
  "CommunityId": "00000000-0000-0000-0000-000000000000",
  "RoleTypeId": "00000000-0000-0000-0000-000000000000"
}
```

#### 400

Missing or invalid inputs.

#### 401

Unauthorized.

#### 403

Forbidden.

#### 404

Tenant not found.

#### 409

Identity Provider already exists in Tenant.

#### 500

Internal server error.
***

## `Create Role on Tenant`

Create a new Role for a Tenant with a specified ID.

### Request

`PUT api/v1/Tenants/{tenantId}/Roles/{roleId}`

### Parameters

```csharp
[Required]
string tenantId
```

Tenant ID.

```csharp
[Required]
Guid roleId
```

Role ID.

```csharp
[FromBody]
[Required]
Role role
```

Role to create.

Property | Type | Required | Description 
 --- | --- | --- | ---
Id | Guid | No | Gets or sets unique identifier for this Role. Generated by the server upon Creation.
Name | string | No | Gets or sets name of this Role.
Description | string | No | Gets or sets description of this Role.
RoleScope | RoleScope | No | Gets or sets scope of this Role.
TenantId | string | No | Gets or sets unique identifier of Tenant for this Role, if this is a Account Role, null otherwise.
CommunityId | Guid | No | Gets or sets unique identifier of Community for this Role, if this is a Community Role, null otherwise.
RoleTypeId | Guid | No | Gets or sets unique identifier of Role Type for this Role, if this is a Account Role and is not a customer defined Role.



```json
{
  "Id": "00000000-0000-0000-0000-000000000000",
  "Name": "Name",
  "Description": "description",
  "RoleScope": 0,
  "TenantId": "00000000-0000-0000-0000-000000000000",
  "CommunityId": "00000000-0000-0000-0000-000000000000",
  "RoleTypeId": "00000000-0000-0000-0000-000000000000"
}
```

### Security

Allowed for these roles:

- `Account Administrator`

### Returns

#### 200

Created.

##### Type:

 `Role`

```json
{
  "Id": "00000000-0000-0000-0000-000000000000",
  "Name": "Name",
  "Description": "description",
  "RoleScope": 0,
  "TenantId": "00000000-0000-0000-0000-000000000000",
  "CommunityId": "00000000-0000-0000-0000-000000000000",
  "RoleTypeId": "00000000-0000-0000-0000-000000000000"
}
```

#### 400

Missing or invalid inputs.

#### 401

Unauthorized.

#### 403

Forbidden.

#### 404

Tenant not found.

#### 409

Identity Provider already exists in Tenant.

#### 500

Internal server error.
***

## `Delete Role From Tenant`

Delete a Role from a Tenant.

### Request

`DELETE api/v1/Tenants/{tenantId}/Roles/{roleId}`

### Parameters

```csharp
[Required]
string tenantId
```

Tenant ID.

```csharp
[Required]
Guid roleId
```

Role ID.

### Security

Allowed for these roles:

- `Account Administrator`

### Returns

#### 204

Removed.

#### 401

Unauthorized.

#### 403

Forbidden.

#### 404

IdentityProvider or Tenant not found.

#### 405

Delete built-in Roles not allowed. 

#### 500

Internal server error.
***

## `Get Roles for User`

Returns a list of Roles for a given User.

### Request

`GET api/v1/Tenants/{tenantId}/Users/{userId}/Roles`

### Parameters

```csharp
[Required]
string tenantId
```

Tenant ID.

```csharp
[Required]
Guid userId
```

User ID.

```csharp
[FromQuery]
[Optional]
[Default = ""]
string query
```

Query to execute. Currently not supported.

```csharp
[FromQuery]
[Optional]
[Default = 0]
int32 skip
```

Number of Roles to skip.

```csharp
[FromQuery]
[Optional]
[Default = 100]
int32 count
```

Max number of Roles to return.

### Security

Allowed for these roles:

- `Account Administrator`
- `Account Member`

### Returns

#### 200

Success.

##### Type:

 `List`

```json
[
  {
    "Id": "00000000-0000-0000-0000-000000000000",
    "Name": "Name",
    "Description": "description",
    "RoleScope": 0,
    "TenantId": "00000000-0000-0000-0000-000000000000",
    "CommunityId": "00000000-0000-0000-0000-000000000000",
    "RoleTypeId": "00000000-0000-0000-0000-000000000000"
  },
  {
    "Id": "00000000-0000-0000-0000-000000000000",
    "Name": "Name",
    "Description": "description",
    "RoleScope": 0,
    "TenantId": "00000000-0000-0000-0000-000000000000",
    "CommunityId": "00000000-0000-0000-0000-000000000000",
    "RoleTypeId": "00000000-0000-0000-0000-000000000000"
  }
]
```

#### 400

Missing or invalid inputs.

#### 401

Unauthorized.

#### 403

Forbidden.

#### 404

Tenant or User not found.

#### 500

Internal server error.
***

## `Get Roles for User Header`

Head request to get the total number of User Roles for the specified User.

### Request

`HEAD api/v1/Tenants/{tenantId}/Users/{userId}/Roles`

### Parameters

```csharp
[Required]
string tenantId
```

Tenant ID.

```csharp
[Required]
Guid userId
```

User ID.

### Security

Allowed for these roles:

- `Account Administrator`
- `Account Member`

### Returns

#### 200

Success.

##### Type:

 `Void`

#### 401

Unauthorized.

#### 403

Forbidden.

#### 404

Tenant or User not found.

#### 500

Internal server error.
***

## `Replace User's Roles`

Replace existing User Roles.

### Request

`PUT api/v1/Tenants/{tenantId}/Users/{userId}/Roles`

### Parameters

```csharp
[Required]
string tenantId
```

Tenant ID.

```csharp
[Required]
Guid userId
```

User ID.

```csharp
[FromBody]
[Required]
Role[] roles
```

Update Roles list.

Property | Type | Required | Description 
 --- | --- | --- | ---
Capacity | int32 | No | 
Count | int32 | No | 
Item | Role | No | 



```json
[
  {
    "Id": "00000000-0000-0000-0000-000000000000",
    "Name": "Name",
    "Description": "description",
    "RoleScope": 0,
    "TenantId": "00000000-0000-0000-0000-000000000000",
    "CommunityId": "00000000-0000-0000-0000-000000000000",
    "RoleTypeId": "00000000-0000-0000-0000-000000000000"
  },
  {
    "Id": "00000000-0000-0000-0000-000000000000",
    "Name": "Name",
    "Description": "description",
    "RoleScope": 0,
    "TenantId": "00000000-0000-0000-0000-000000000000",
    "CommunityId": "00000000-0000-0000-0000-000000000000",
    "RoleTypeId": "00000000-0000-0000-0000-000000000000"
  }
]
```

### Security

Allowed for these roles:

- `Account Administrator`

### Returns

#### 400

Missing preferences.

#### 401

Unauthorized.

#### 403

Forbidden.

#### 404

User or Tenant not found.

#### 500

Internal server error.
***

## `Delete Roles From User`

Delete all User's Roles except for Account Member.

### Request

`DELETE api/v1/Tenants/{tenantId}/Users/{userId}/Roles`

### Parameters

```csharp
[Required]
string tenantId
```

Id of tenant.

```csharp
[Required]
Guid userId
```

Id of user.

### Security

Allowed for these roles:

- `Account Administrator`

### Returns

#### 204

Deleted.

#### 401

Unauthorized.

#### 403

Forbidden.

#### 404

User or Tenant not found.

#### 500

Internal server error.
***

## `Get Roles for Client Credential Client`

Returns a list of Roles for a given Client Credential Client.

### Request

`GET api/v1/Tenants/{tenantId}/ClientCredentialClients/{clientId}/Roles`

### Parameters

```csharp
[Required]
string tenantId
```

Tenant ID.

```csharp
[Required]
string clientId
```

Client Credential Client ID.

```csharp
[FromQuery]
[Optional]
[Default = ""]
string query
```

Query to execute. Currently not supported.

```csharp
[FromQuery]
[Optional]
[Default = 0]
int32 skip
```

Number of Roles to skip.

```csharp
[FromQuery]
[Optional]
[Default = 100]
int32 count
```

Max number of Roles to return.

### Security

Allowed for these roles:

- `Account Administrator`
- `Account Member`

### Returns

#### 200

Success.

##### Type:

 `List`

```json
[
  {
    "Id": "00000000-0000-0000-0000-000000000000",
    "Name": "Name",
    "Description": "description",
    "RoleScope": 0,
    "TenantId": "00000000-0000-0000-0000-000000000000",
    "CommunityId": "00000000-0000-0000-0000-000000000000",
    "RoleTypeId": "00000000-0000-0000-0000-000000000000"
  },
  {
    "Id": "00000000-0000-0000-0000-000000000000",
    "Name": "Name",
    "Description": "description",
    "RoleScope": 0,
    "TenantId": "00000000-0000-0000-0000-000000000000",
    "CommunityId": "00000000-0000-0000-0000-000000000000",
    "RoleTypeId": "00000000-0000-0000-0000-000000000000"
  }
]
```

#### 400

Missing or invalid inputs.

#### 401

Unauthorized.

#### 403

Forbidden.

#### 404

Tenant or Client Credential Client not found.

#### 500

Internal server error.
***

## `Get Roles for Client Credential Client Header`

Head request to get the total number of Client Credential Client Roles for the specified Client Credential Client.

### Request

`HEAD api/v1/Tenants/{tenantId}/ClientCredentialClients/{clientId}/Roles`

### Parameters

```csharp
[Required]
string tenantId
```

Tenant ID.

```csharp
[Required]
string clientId
```

Client Credential Client ID.

### Security

Allowed for these roles:

- `Account Administrator`
- `Account Member`

### Returns

#### 200

Success.

##### Type:

 `Void`

#### 401

Unauthorized.

#### 403

Forbidden.

#### 404

Tenant or Client Credential Client not found.

#### 500

Internal server error.
***

## `Replace Client Credential Client's Roles`

Replace existing Client Credential Client Roles.

### Request

`PUT api/v1/Tenants/{tenantId}/ClientCredentialClients/{clientId}/Roles`

### Parameters

```csharp
[Required]
string tenantId
```

Tenant ID.

```csharp
[Required]
string clientId
```

Client Credential Client ID.

```csharp
[FromBody]
[Required]
Role[] roles
```

Update Roles list.

Property | Type | Required | Description 
 --- | --- | --- | ---
Capacity | int32 | No | 
Count | int32 | No | 
Item | Role | No | 



```json
[
  {
    "Id": "00000000-0000-0000-0000-000000000000",
    "Name": "Name",
    "Description": "description",
    "RoleScope": 0,
    "TenantId": "00000000-0000-0000-0000-000000000000",
    "CommunityId": "00000000-0000-0000-0000-000000000000",
    "RoleTypeId": "00000000-0000-0000-0000-000000000000"
  },
  {
    "Id": "00000000-0000-0000-0000-000000000000",
    "Name": "Name",
    "Description": "description",
    "RoleScope": 0,
    "TenantId": "00000000-0000-0000-0000-000000000000",
    "CommunityId": "00000000-0000-0000-0000-000000000000",
    "RoleTypeId": "00000000-0000-0000-0000-000000000000"
  }
]
```

### Security

Allowed for these roles:

- `Account Administrator`

### Returns

#### 400

Missing preferences.

#### 401

Unauthorized.

#### 403

Forbidden.

#### 404

Client Credential Client or Tenant not found.

#### 500

Internal server error.
***

## `Delete Roles From Client Credential Client`

Delete all Client Credential Client's Roles except for Account Member.

### Request

`DELETE api/v1/Tenants/{tenantId}/ClientCredentialClients/{clientId}/Roles`

### Parameters

```csharp
[Required]
string tenantId
```

Tenant ID.

```csharp
[Required]
string clientId
```

Client Credential Client ID.

### Security

Allowed for these roles:

- `Account Administrator`

### Returns

#### 204

Deleted.

#### 401

Unauthorized.

#### 403

Forbidden.

#### 404

Client Credential Client or Tenant not found.

#### 500

Internal server error.
***


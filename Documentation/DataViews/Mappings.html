<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Mappings </title>
    <meta name="viewport" content="width=device-width">
    <meta name="title" content="Mappings ">
    <meta name="generator" content="docfx 2.43.3.0">
    
    <link rel="shortcut icon" href="../../favicon.ico">
    <link rel="stylesheet" href="../../styles/docfx.vendor.css">
    <link rel="stylesheet" href="../../styles/docfx.css">
    <link rel="stylesheet" href="../../styles/main.css">
    <meta property="docfx:navrel" content="../../toc.html">
    <meta property="docfx:tocrel" content="../toc.html">
    
    <meta property="docfx:rel" content="../../">
    
  </head>
  <body data-spy="scroll" data-target="#affix" data-offset="120">
    <div id="wrapper">
      <header>
        
        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              <a class="navbar-brand" href="../../index.html" width="46">
                <img id="logo" src="../../Documentation/images/atlas_icon.png" height="46" width="46" alt="OSIsoft Cloud Serices"> 
              </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="search">
                <div class="form-group">
                  <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
                </div>
              </form>
            </div>
          </div>
        </nav>
        
        <div class="subnav navbar navbar-default">
          <div class="container hide-when-search" id="breadcrumb">
            <ul class="breadcrumb">
              <li></li>
            </ul>
          </div>
        </div>
      </header>
      <div class="container body-content">
        
        <div id="search-results">
          <div class="search-list"></div>
          <div class="sr-items">
            <p><i class="glyphicon glyphicon-refresh index-loading"></i></p>
          </div>
          <ul id="pagination"></ul>
        </div>
      </div>
      <div role="main" class="container body-content hide-when-search">
        
        <div class="sidenav hide-when-search">
          <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle">Show / Hide Table of Contents</a>
          <div class="sidetoggle collapse" id="sidetoggle">
            <div id="sidetoc"></div>
          </div>
        </div>
        <div class="article row grid-right">
          <div class="col-md-10">
            <article class="content wrap" id="_content" data-uid="Mappings">
<h1 id="mappings">Mappings</h1>

<p>The Mappings object lets users define the columns in the resulting data set by specifying their name and properties, as well as create shared mapping rules that can be used throughout all columns of the Data View. By using default mappings, all properties of the query will be mapped to their own column, generated on data item retrieval. If the mappings are defined in the Data View definition they will be persisted over time, and might need to be updated accordingly should a change occur in the data source.</p>
<h3 id="properties">Properties</h3>
<table>
<thead>
<tr>
<th>Property</th>
<th>Type</th>
<th>Required</th>
<th>Descriptions</th>
</tr>
</thead>
<tbody>
<tr>
<td>TimeOfResolution</td>
<td>optional: DateTimeOffset</td>
<td>False</td>
<td>Time when the data view instance was resolved</td>
</tr>
<tr>
<td>SharedMappingRules</td>
<td>[SharedMappingRule]</td>
<td>False</td>
<td>Rules shared across mappings</td>
</tr>
<tr>
<td>Columns</td>
<td>[Column]</td>
<td>False</td>
<td>Columns in your Data View</td>
</tr>
</tbody>
</table>
<h2 id="sharedmappingrules"><code>SharedMappingRules</code></h2>
<p> The SharedMappingRule is used to define rules using a value and a pattern that can then be applied to one or many columns that share similar behavior. With the pattern property, users can specify a certain value that will differentiate the columns that adhere to the defined mapping rule pattern. See examples below.</p>
<h3 id="properties-1">Properties</h3>
<table>
<thead>
<tr>
<th>Property</th>
<th>Type</th>
<th>Required</th>
<th>Descriptions</th>
</tr>
</thead>
<tbody>
<tr>
<td>Id</td>
<td>string</td>
<td>True</td>
<td>Id of the mapping rule</td>
</tr>
<tr>
<td>Pattern</td>
<td>string</td>
<td>True</td>
<td>Shared mapping rule pattern</td>
</tr>
<tr>
<td>MappingRule</td>
<td>PropertyMappingRule</td>
<td>True</td>
<td>Data source identifier</td>
</tr>
</tbody>
</table>
<h2 id="mappingrule"><code>MappingRule</code></h2>
<p> The PropertyMappingRule is used to map a column to a data source by defining the paths to the property that the user wants to select, and an identifier to the resource of the property.</p>
<h3 id="properties-2">Properties</h3>
<table>
<thead>
<tr>
<th>Property</th>
<th>Type</th>
<th>Required</th>
<th>Descriptions</th>
</tr>
</thead>
<tbody>
<tr>
<td>PropertyPaths</td>
<td>[string]</td>
<td>True</td>
<td>Paths to property</td>
</tr>
<tr>
<td>ItemIdentifier</td>
<td>FilterUnit</td>
<td>False</td>
<td>Identifier for the resource that contains the property used</td>
</tr>
</tbody>
</table>
<h2 id="itemidentifier"><code>ItemIdentifier</code></h2>
<p> The FilterUnit identifies the property that the user wants to select with a <a href="#mappingrule">PropertyMappingRule</a>.</p>
<h3 id="properties-3">Properties</h3>
<table>
<thead>
<tr>
<th>Property</th>
<th>Type</th>
<th>Required</th>
<th>Descriptions</th>
</tr>
</thead>
<tbody>
<tr>
<td>Resource</td>
<td>FilterResource</td>
<td>True</td>
<td>Type of the resource used</td>
</tr>
<tr>
<td>Field</td>
<td>FilterField</td>
<td>True</td>
<td>Field within the resource to query against</td>
</tr>
<tr>
<td>Name</td>
<td>string</td>
<td>False</td>
<td>Name of the attribute within the field (Only applies when Field is an attribute)</td>
</tr>
<tr>
<td>Value</td>
<td>string</td>
<td>True</td>
<td>Value for field to use in query</td>
</tr>
</tbody>
</table>
<h2 id="resource"><code>Resource</code></h2>
<p> The Resource can have the following values: </p>
<table>
<thead>
<tr>
<th>Value</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Streams</td>
<td>string</td>
<td>Streams</td>
</tr>
<tr>
<td>TypeProperties</td>
<td>string</td>
<td>Type Properties</td>
</tr>
</tbody>
</table>
<h2 id="field"><code>Field</code></h2>
<p> The Field can have the following values: </p>
<table>
<thead>
<tr>
<th>Value</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Id</td>
<td>string</td>
<td>Id of resource</td>
</tr>
<tr>
<td>Name</td>
<td>string</td>
<td>Name of resource</td>
</tr>
<tr>
<td>Tag</td>
<td>string</td>
<td>Tag of resource</td>
</tr>
<tr>
<td>Description</td>
<td>string</td>
<td>Description of resource</td>
</tr>
<tr>
<td>TypeId</td>
<td>string</td>
<td>TypeId of resource</td>
</tr>
<tr>
<td>MetadataKey</td>
<td>string</td>
<td>MetadataKey of resource</td>
</tr>
</tbody>
</table>
<h2 id="columns"><code>Columns</code></h2>
<p> The Column lets users specify the name and properties of a column in the resulting data set. Using the mapping rule object, users can decide what type of data mapping the column is using.</p>
<h3 id="properties-4">Properties</h3>
<table>
<thead>
<tr>
<th>Property</th>
<th>Type</th>
<th>Required</th>
<th>Descriptions</th>
</tr>
</thead>
<tbody>
<tr>
<td>Name</td>
<td>string</td>
<td>True</td>
<td>Name to be displayed for the column</td>
</tr>
<tr>
<td>MappingRule</td>
<td>MappingRule</td>
<td>True</td>
<td>Mapping to the data source</td>
</tr>
<tr>
<td>IsKey</td>
<td>optional: bool</td>
<td>False</td>
<td>Column is the key column (Optional once key column is defined)</td>
</tr>
<tr>
<td>DataType</td>
<td>string</td>
<td>False</td>
<td>Type of the mapped data source</td>
</tr>
</tbody>
</table>
<h2 id="mappingrule-1"><code>MappingRule</code></h2>
<p> The MappingRule can be used in the following forms </p>
<div class="tabGroup" id="tabgroup_hqKGg1xKQT">
<ul role="tablist">
<li role="presentation">
<a href="#tabpanel_hqKGg1xKQT_tabid-1" role="tab" aria-controls="tabpanel_hqKGg1xKQT_tabid-1" data-tab="tabid-1" tabindex="0" aria-selected="true">GroupRuleMappingRule</a>
</li>
<li role="presentation">
<a href="#tabpanel_hqKGg1xKQT_tabid-2" role="tab" aria-controls="tabpanel_hqKGg1xKQT_tabid-2" data-tab="tabid-2" tabindex="-1">LinkedMappingRule</a>
</li>
<li role="presentation">
<a href="#tabpanel_hqKGg1xKQT_tabid-3" role="tab" aria-controls="tabpanel_hqKGg1xKQT_tabid-3" data-tab="tabid-3" tabindex="-1">PropertyMappingRule</a>
</li>
</ul>
<section id="tabpanel_hqKGg1xKQT_tabid-1" role="tabpanel" data-tab="tabid-1">
<p>The GroupRuleMappingRule is used to map a column to a group rule by specifying the Id of the rule, and a group rule value defined in the group rule to identify what pattern to use.</p>
<h3 id="properties-5">Properties</h3>
<table>
<thead>
<tr>
<th>Property</th>
<th>Type</th>
<th>Required</th>
<th>Descriptions</th>
</tr>
</thead>
<tbody>
<tr>
<td>GroupRuleId</td>
<td>string</td>
<td>True</td>
<td>Id of the group rule to use as mapping rule</td>
</tr>
<tr>
<td>GroupRuleValue</td>
<td>string</td>
<td>False</td>
<td>Group rule value to use in the specified group rule</td>
</tr>
</tbody>
</table>
</section>
<section id="tabpanel_hqKGg1xKQT_tabid-2" role="tabpanel" data-tab="tabid-2" aria-hidden="true" hidden="hidden">
<p>The LinkedMappingRule is used when mapping a column to a shared mapping rule, using the value property to define the value to be used for the pattern property of the rule.</p>
<h3 id="properties-6">Properties</h3>
<table>
<thead>
<tr>
<th>Property</th>
<th>Type</th>
<th>Required</th>
<th>Descriptions</th>
</tr>
</thead>
<tbody>
<tr>
<td>SharedMappingRuleId</td>
<td>string</td>
<td>True</td>
<td>Id of the shared mapping rule to use</td>
</tr>
<tr>
<td>Value</td>
<td>string</td>
<td>True</td>
<td>Value to use in the specified mapping rule</td>
</tr>
</tbody>
</table>
</section>
<section id="tabpanel_hqKGg1xKQT_tabid-3" role="tabpanel" data-tab="tabid-3" aria-hidden="true" hidden="hidden">
<p>The PropertyMappingRule is used to map a column to a data source by defining the paths to the property that the user wants to select, and an identifier to the resource of the property.</p>
<h3 id="properties-7">Properties</h3>
<table>
<thead>
<tr>
<th>Property</th>
<th>Type</th>
<th>Required</th>
<th>Descriptions</th>
</tr>
</thead>
<tbody>
<tr>
<td>PropertyPaths</td>
<td>[string]</td>
<td>True</td>
<td>Paths to property</td>
</tr>
<tr>
<td>ItemIdentifier</td>
<td>FilterUnit</td>
<td>False</td>
<td>Identifier for the resource that contains the property used</td>
</tr>
</tbody>
</table>
</section>
</div>
<h2 id="example"><code>Example</code></h2>
<p>The following examples show different definitions of the Mappings object. The first example shows a mapping with one column defined, using a property mapping rule to define the property paths while leaving the item identifier undefined. This is accepted as long as the specified paths do not lead to an ambiguous result, and would in such case require the user to include an item identifier to further specify their rule. Since only one column is defined, it is required to define it as the key column. </p>
<p>The second example uses a shared mapping rule with a pattern to match the property path and the item identifier, including every stream with TankStream as its description. It also uses the group rule defined in the <a class="xref" href="GroupRules.html">Group Rules</a> page to create data groups based on the states of the data source. The FlowRate and Temperature columns are defined with the shared mapping rule, using the value to specify their property path. The Volume column is an example of explicitly defining the property mapping rule in the column definition. This is done to demonstrate the difference and the result would be identical, using the shared rule and a value as the previous columns do.</p>
<pre><code class="lang-json">{
  &quot;Columns&quot;: [
    {
      &quot;Name&quot;: &quot;column1&quot;,
      &quot;MappingRule&quot;: {
        &quot;PropertyPaths&quot;: [
          &quot;path&quot;
        ]
      },
      &quot;IsKey&quot;: true
    }
  ]
}
</code></pre><pre><code class="lang-json">{
  &quot;SharedMappingRules&quot;: [
    {
      &quot;Id&quot;: &quot;shared_mapping_rule&quot;,
      &quot;Pattern&quot;: &quot;{type_property}&quot;,
      &quot;MappingRule&quot;: {
        &quot;PropertyPaths&quot;: [
          &quot;{type_property}&quot;
        ],
        &quot;ItemIdentifier&quot;: {
          &quot;Resource&quot;: &quot;Streams&quot;,
          &quot;Field&quot;: &quot;Description&quot;,
          &quot;Value&quot;: &quot;TankStream&quot;
        }
      }
    }
  ],
  &quot;Columns&quot;: [
    {
      &quot;Name&quot;: &quot;keyColumn&quot;,
      &quot;MappingRule&quot;: {
        &quot;PropertyPaths&quot;: [
          &quot;path&quot;
        ]
      },
      &quot;IsKey&quot;: true,
      &quot;DataType&quot;: &quot;DateTime&quot;
    },
    {
      &quot;Name&quot;: &quot;State&quot;,
      &quot;MappingRule&quot;: {
        &quot;GroupRuleId&quot;: &quot;StateGroupRule&quot;
      },
      &quot;IsKey&quot;: false,
      &quot;DataType&quot;: &quot;string&quot;
    },
    {
      &quot;Name&quot;: &quot;FlowRate&quot;,
      &quot;MappingRule&quot;: {
        &quot;SharedMappingRuleId&quot;: &quot;shared_mapping_rule&quot;,
        &quot;Value&quot;: &quot;{FlowRate}&quot;
      },
      &quot;IsKey&quot;: false
    },
    {
      &quot;Name&quot;: &quot;Temperature&quot;,
      &quot;MappingRule&quot;: {
        &quot;SharedMappingRuleId&quot;: &quot;shared_mapping_rule&quot;,
        &quot;Value&quot;: &quot;{Temperature}&quot;
      },
      &quot;IsKey&quot;: false
    },
    {
      &quot;Name&quot;: &quot;Volume&quot;,
      &quot;MappingRule&quot;: {
        &quot;PropertyPaths&quot;: [
          &quot;Volume&quot;
        ],
        &quot;ItemIdentifier&quot;: {
          &quot;Resource&quot;: &quot;Streams&quot;,
          &quot;Field&quot;: &quot;Description&quot;,
          &quot;Value&quot;: &quot;TankStream&quot;
        }
      },
      &quot;IsKey&quot;: false
    }
  ]
}
</code></pre></article>
          </div>
          
          <div class="hidden-sm col-md-2" role="complementary">
            <div class="sideaffix">
              <div class="contribution">
                <ul class="nav">
                  <li>
                    <a href="https://github.com/osisoft/OCS-Docs/blob/master/Documentation/DataViews/Mappings.md/#L1" class="contribution-link">Improve this Doc</a>
                  </li>
                </ul>
              </div>
              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
              <!-- <p><a class="back-to-top" href="#top">Back to top</a><p> -->
              </nav>
            </div>
          </div>
        </div>
      </div>
      
      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
            <span id='copyright-text'>© 2019 - OSIsoft, LLC.<span>
        </span></span></div>
      </footer>
    </div>
    
    <script type="text/javascript" src="../../styles/docfx.vendor.js"></script>
    <script type="text/javascript" src="../../styles/docfx.js"></script>
    <script type="text/javascript" src="../../styles/main.js"></script>
  </body>
</html>

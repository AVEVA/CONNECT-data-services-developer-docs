<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>IdentityProvider </title>
    <meta name="viewport" content="width=device-width">
    <meta name="title" content="IdentityProvider ">
    <meta name="generator" content="docfx 2.56.2.0">
    
    <link rel="shortcut icon" href="../../../favicon.ico">
    <link rel="stylesheet" href="../../../styles/docfx.vendor.css">
    <link rel="stylesheet" href="../../../styles/docfx.css">
    <link rel="stylesheet" href="../../../styles/main.css">
    <meta property="docfx:navrel" content="../../../toc.html">
    <meta property="docfx:tocrel" content="../../toc.html">
    
    <meta property="docfx:rel" content="../../../">
    
  </head>
  <body data-spy="scroll" data-target="#affix" data-offset="120">
    <div id="wrapper">
      <header>
        
        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              <a class="navbar-brand" href="../../../index.html" width="46">
        <img id="logo" src="../../../Content_Portal/Documentation/images/atlas_icon.png" height="46" width="46" alt="OSIsoft Cloud Services">
        </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="search">
                <div class="form-group">
                  <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
                </div>
              </form>
            </div>
          </div>
        </nav>
        
        <div class="subnav navbar navbar-default">
          <div class="container hide-when-search" id="breadcrumb">
            <ul class="breadcrumb">
              <li></li>
            </ul>
          </div>
        </div>
      </header>
      <div class="container body-content">
        
        <div id="search-results">
          <div class="search-list"></div>
          <div class="sr-items">
            <p><i class="glyphicon glyphicon-refresh index-loading"></i></p>
          </div>
          <ul id="pagination"></ul>
        </div>
      </div>
      <div role="main" class="container body-content hide-when-search">
        
        <div class="sidenav hide-when-search">
          <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle">Show / Hide Table of Contents</a>
          <div class="sidetoggle collapse" id="sidetoggle">
            <div id="sidetoc"></div>
          </div>
        </div>
        <div class="article row grid-right">
          <div class="col-md-10">
            <article class="content wrap" id="_content" data-uid="identityIdentityProvider">
<h1 id="identityprovider">IdentityProvider</h1>

<p>APIs for getting a list of all supported Identity Providers.</p>
<h2 id="properties">Properties</h2>
<p>For HTTP requests and responses, the IdentityProvider object has the following properties and JSON-serialized body: </p>
<table>
<thead>
<tr>
<th>Property Name</th>
<th>Data Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Id</td>
<td>Guid</td>
<td>Id of an identity provider.</td>
</tr>
<tr>
<td>DisplayName</td>
<td>string</td>
<td>Identity provider display name to use.</td>
</tr>
<tr>
<td>Scheme</td>
<td>string</td>
<td>The name of the cookie handler that will temporarily store the outcome of the external authentication.</td>
</tr>
<tr>
<td>UserIdClaimType</td>
<td>string</td>
<td>Type of claim.</td>
</tr>
<tr>
<td>ClientId</td>
<td>string</td>
<td>The ClientId of the identity provider.</td>
</tr>
<tr>
<td>IsConfigured</td>
<td>bool</td>
<td>A value indicating whether the identity provider has been configured.</td>
</tr>
<tr>
<td>Capabilities</td>
<td>object</td>
<td>The capabilities of the identity provider.</td>
</tr>
</tbody>
</table>
<h3 id="serialized-model">Serialized Model</h3>
<pre><code class="lang-json">{
  &quot;Id&quot;: &quot;00000000-0000-0000-0000-000000000000&quot;,
  &quot;DisplayName&quot;: &quot;Name&quot;,
  &quot;Scheme&quot;: &quot;Scheme&quot;,
  &quot;UserIdClaimType&quot;: &quot;UserIdClaimType&quot;,
  &quot;ClientId&quot;: &quot;ClientId&quot;,
  &quot;IsConfigured&quot;: false, 
  &quot;Capabilities&quot;: { 
    &quot;User&quot;: { 
      &quot;SignIn&quot;: true, 
      &quot;Invitation&quot;: true, 
      &quot;Search&quot;: false 
    }, 
    &quot;Group&quot;: { 
      &quot;Authorize&quot;: false, 
      &quot;Search&quot;: false 
    } 
  } 
}
</code></pre><hr>
<h2 id="authentication">Authentication</h2>
<p>All endpoints referenced in this documentation require authenticated access. Authorization header must be set to the access token you retrieve after a successful authentication request.</p>
<p><code>Authorization: Bearer &lt;token&gt;</code></p>
<p>Requests made without an access token or an invalid/expired token will fail with a 401 Unauthorized response.
Requests made with an access token which does not have the correct permissions (see security subsection on every endpoint) will fail with a 403 Forbidden.
Read <a href="https://github.com/osisoft/OSI-Samples-OCS/tree/master/basic_samples/Authentication">here</a> on how to authenticate against OCS with the various clients and receive an access token in response.</p>
<h2 id="error-handling">Error Handling</h2>
<p>All responses will have an error message in the body. The exceptions are 200 responses and the 401 Unauthorized response. The error message will look as follows:</p>
<pre><code class="lang-json">{
    &quot;OperationId&quot;: &quot;1b2af18e-8b27-4f86-93e0-6caa3e59b90c&quot;, 
    &quot;Error&quot;: &quot;Error message.&quot;, 
    &quot;Reason&quot;: &quot;Reason that caused error.&quot;, 
    &quot;Resolution&quot;: &quot;Possible solution for the error.&quot; 
}
</code></pre><p>If and when contacting OSIsoft support about this error, please provide the OperationId.</p>
<h2 id="get-identity-provider"><code>Get Identity Provider</code></h2>
<p>Returns an IdentityProvider object.</p>
<h3 id="request">Request</h3>
<p><code>GET api/v1/IdentityProviders/{identityProviderId}</code></p>
<h3 id="parameters">Parameters</h3>
<pre><code class="lang-csharp">[Required]
Guid identityProviderId
</code></pre><p>Id of provider.</p>
<h3 id="security">Security</h3>
<p>Allowed for these roles:</p>
<ul>
<li><code>Account Administrator</code></li>
</ul>
<h3 id="returns">Returns</h3>
<h4 id="200">200</h4>
<p>Success.</p>
<h5 id="type">Type:</h5>
<p> <code>IdentityProvider</code></p>
<pre><code class="lang-json">{
  &quot;Id&quot;: &quot;00000000-0000-0000-0000-000000000000&quot;,
  &quot;DisplayName&quot;: &quot;Name&quot;,
  &quot;Scheme&quot;: &quot;Scheme&quot;,
  &quot;UserIdClaimType&quot;: &quot;UserIdClaimType&quot;,
  &quot;ClientId&quot;: &quot;ClientId&quot;,
  &quot;IsConfigured&quot;: false,
  &quot;Capabilities&quot;: null
}
</code></pre><h4 id="401">401</h4>
<p>Unauthorized.</p>
<h4 id="403">403</h4>
<p>Forbidden.</p>
<h4 id="404">404</h4>
<p>Identity Provider not found.</p>
<h4 id="500">500</h4>
<p>Internal server error.</p>
<hr>
<h2 id="get-identity-provider-by-scheme"><code>Get Identity Provider By Scheme</code></h2>
<p>Returns a list of IdentityProvider objects that follow a scheme.</p>
<h3 id="request-1">Request</h3>
<p><code>GET api/v1/IdentityProviders/schemes/{scheme}</code></p>
<h3 id="parameters-1">Parameters</h3>
<pre><code class="lang-csharp">[Required]
string scheme
</code></pre><p>Scheme name.</p>
<h3 id="security-1">Security</h3>
<p>Allowed for these roles:</p>
<ul>
<li><code>Account Administrator</code></li>
</ul>
<h3 id="returns-1">Returns</h3>
<h4 id="200-1">200</h4>
<p>Success.</p>
<h5 id="type-1">Type:</h5>
<p> <code>IdentityProvider</code></p>
<pre><code class="lang-json">{
  &quot;Id&quot;: &quot;00000000-0000-0000-0000-000000000000&quot;,
  &quot;DisplayName&quot;: &quot;Name&quot;,
  &quot;Scheme&quot;: &quot;Scheme&quot;,
  &quot;UserIdClaimType&quot;: &quot;UserIdClaimType&quot;,
  &quot;ClientId&quot;: &quot;ClientId&quot;,
  &quot;IsConfigured&quot;: false,
  &quot;Capabilities&quot;: null 
}
</code></pre><h4 id="401-1">401</h4>
<p>Unauthorized.</p>
<h4 id="403-1">403</h4>
<p>Forbidden.</p>
<h4 id="404-1">404</h4>
<p>Identity Provider not found.</p>
<h4 id="500-1">500</h4>
<p>Internal server error.</p>
<hr>
<h2 id="get-identity-providers"><code>Get Identity Providers</code></h2>
<p>Returns a list of IdentityProvider objects.</p>
<h3 id="request-2">Request</h3>
<p><code>GET api/v1/IdentityProviders</code></p>
<h3 id="parameters-2">Parameters</h3>
<pre><code class="lang-csharp">[FromQuery]
[Optional]
[Default = &quot;&quot;]
string query
</code></pre><p>Query to execute. Currently not supported.</p>
<pre><code class="lang-csharp">[FromQuery]
[Optional]
[Default = 0]
int32 skip
</code></pre><p>Number of providers to skip.</p>
<pre><code class="lang-csharp">[FromQuery]
[Optional]
[Default = 100]
int32 count
</code></pre><p>Maximum number of providers to return.</p>
<h3 id="security-2">Security</h3>
<p>Allowed for these roles:</p>
<ul>
<li><code>Account Administrator</code></li>
</ul>
<h3 id="returns-2">Returns</h3>
<h4 id="200-2">200</h4>
<p>Success.</p>
<h5 id="type-2">Type:</h5>
<p> <code>List</code></p>
<pre><code class="lang-json">[
  {
    &quot;Id&quot;: &quot;00000000-0000-0000-0000-000000000000&quot;,
    &quot;DisplayName&quot;: &quot;Name&quot;,
    &quot;Scheme&quot;: &quot;Scheme&quot;,
    &quot;UserIdClaimType&quot;: &quot;UserIdClaimType&quot;,
    &quot;ClientId&quot;: &quot;ClientId&quot;,
    &quot;IsConfigured&quot;: false,
    &quot;Capabilities&quot;: null
  },
  {
    &quot;Id&quot;: &quot;00000000-0000-0000-0000-000000000000&quot;,
    &quot;DisplayName&quot;: &quot;Name&quot;,
    &quot;Scheme&quot;: &quot;Scheme&quot;,
    &quot;UserIdClaimType&quot;: &quot;UserIdClaimType&quot;,
    &quot;ClientId&quot;: &quot;ClientId&quot;,
    &quot;IsConfigured&quot;: false,
    &quot;Capabilities&quot;: null
  }
]
</code></pre><h4 id="400">400</h4>
<p>Missing or invalid inputs.</p>
<h4 id="401-2">401</h4>
<p>Unauthorized.</p>
<h4 id="403-2">403</h4>
<p>Forbidden.</p>
<h4 id="500-2">500</h4>
<p>Internal server error.</p>
<hr>
<h2 id="get-identity-provider-based-on-scheme"><code>Get Identity Provider based on scheme</code></h2>
<p>Get header for a scheme to check its validity.</p>
<h3 id="request-3">Request</h3>
<p><code>HEAD api/v1/IdentityProviders/schemes/{scheme}</code></p>
<h3 id="parameters-3">Parameters</h3>
<pre><code class="lang-csharp">[Required]
string scheme
</code></pre><p>Scheme name.</p>
<h3 id="security-3">Security</h3>
<p>Allowed for these roles:</p>
<ul>
<li><code>Account Administrator</code></li>
</ul>
<h3 id="returns-3">Returns</h3>
<h4 id="200-3">200</h4>
<p>Success.</p>
<h5 id="type-3">Type:</h5>
<p> <code>Void</code></p>
<h4 id="401-3">401</h4>
<p>Unauthorized.</p>
<h4 id="403-3">403</h4>
<p>Forbidden.</p>
<h4 id="404-2">404</h4>
<p>Identity Provider not found.</p>
<h4 id="500-3">500</h4>
<p>Internal server error.</p>
<hr>
<h2 id="get-identity-provider-based-on-id"><code>Get Identity Provider based on Id</code></h2>
<p>Get header for an identity provider to check if the identity provider exists.</p>
<h3 id="request-4">Request</h3>
<p><code>HEAD api/v1/IdentityProviders/{identityProviderId}</code></p>
<h3 id="parameters-4">Parameters</h3>
<pre><code class="lang-csharp">[Required]
Guid identityProviderId
</code></pre><p>Id of provider.</p>
<h3 id="security-4">Security</h3>
<p>Allowed for these roles:</p>
<ul>
<li><code>Account Administrator</code></li>
</ul>
<h3 id="returns-4">Returns</h3>
<h4 id="200-4">200</h4>
<p>Success.</p>
<h5 id="type-4">Type:</h5>
<p> <code>Void</code></p>
<h4 id="401-4">401</h4>
<p>Unauthorized.</p>
<h4 id="403-4">403</h4>
<p>Forbidden.</p>
<h4 id="404-3">404</h4>
<p>IdentityProvider or Tenant not found.</p>
<h4 id="500-4">500</h4>
<p>Internal server error.</p>
<hr>
<h2 id="get-header-for-identity-providers"><code>Get Header for Identity Providers</code></h2>
<p>Get header for Identity Providers to get the total number of Identity Providers.</p>
<h3 id="request-5">Request</h3>
<p><code>HEAD api/v1/IdentityProviders</code></p>
<h3 id="parameters-5">Parameters</h3>
<p>This API call does not have any parameters.</p>
<h3 id="security-5">Security</h3>
<p>Allowed for these roles:</p>
<ul>
<li><code>Account Administrator</code></li>
</ul>
<h3 id="returns-5">Returns</h3>
<h4 id="200-5">200</h4>
<p>Success.</p>
<h5 id="type-5">Type:</h5>
<p> <code>Void</code></p>
<h4 id="401-5">401</h4>
<p>Unauthorized.</p>
<h4 id="403-5">403</h4>
<p>Forbidden.</p>
<h4 id="404-4">404</h4>
<p>Tenant not found.</p>
<h4 id="500-5">500</h4>
<p>Internal server error.</p>
<hr>
<h2 id="get-all-identity-providers-from-tenant"><code>Get All Identity Providers from Tenant</code></h2>
<p>Get all Identity Providers from a Tenant.</p>
<h3 id="request-6">Request</h3>
<p><code>GET api/v1/Tenants/{tenantId}/IdentityProviders</code></p>
<h3 id="parameters-6">Parameters</h3>
<pre><code class="lang-csharp">[Required]
string tenantId
</code></pre><p>Id of Tenant.</p>
<pre><code class="lang-csharp">[FromQuery]
[Optional]
[Default = False]
bool ignoreAadConsentState
</code></pre><p>Return AAD Identity Provider if at least one AAD tenant exists, regardless of the consent state.</p>
<pre><code class="lang-csharp">[FromQuery]
[Optional]
[Default = &quot;&quot;]
string query
</code></pre><p>Query to execute. Currently not supported.</p>
<pre><code class="lang-csharp">[FromQuery]
[Optional]
[Default = 0]
int32 skip
</code></pre><p>Number of Identity Providers to skip.</p>
<pre><code class="lang-csharp">[FromQuery]
[Optional]
[Default = 100]
int32 count
</code></pre><p>Maximum number of Identity Providers to return.</p>
<h3 id="security-6">Security</h3>
<p>Allowed for these roles:</p>
<ul>
<li><code>Account Member</code></li>
<li><code>Account Administrator</code></li>
</ul>
<h3 id="returns-6">Returns</h3>
<h4 id="200-6">200</h4>
<p>Success.</p>
<h5 id="type-6">Type:</h5>
<p> <code>List</code></p>
<pre><code class="lang-json">[
  {
    &quot;Id&quot;: &quot;00000000-0000-0000-0000-000000000000&quot;,
    &quot;DisplayName&quot;: &quot;Name&quot;,
    &quot;Scheme&quot;: &quot;Scheme&quot;,
    &quot;UserIdClaimType&quot;: &quot;UserIdClaimType&quot;,
    &quot;ClientId&quot;: &quot;ClientId&quot;,
    &quot;IsConfigured&quot;: false,
    &quot;Capabilities&quot;: { 
      &quot;User&quot;: { 
        &quot;SignIn&quot;: true, 
        &quot;Invitation&quot;: true, 
        &quot;Search&quot;: false 
      }, 
      &quot;Group&quot;: { 
        &quot;Authorize&quot;: false, 
        &quot;Search&quot;: false 
      } 
  },
  {
    &quot;Id&quot;: &quot;00000000-0000-0000-0000-000000000000&quot;,
    &quot;DisplayName&quot;: &quot;Name&quot;,
    &quot;Scheme&quot;: &quot;Scheme&quot;,
    &quot;UserIdClaimType&quot;: &quot;UserIdClaimType&quot;,
    &quot;ClientId&quot;: &quot;ClientId&quot;,
    &quot;IsConfigured&quot;: false,
    &quot;Capabilities&quot;: { 
      &quot;User&quot;: { 
        &quot;SignIn&quot;: true, 
        &quot;Invitation&quot;: true, 
        &quot;Search&quot;: false 
      }, 
      &quot;Group&quot;: { 
        &quot;Authorize&quot;: false, 
        &quot;Search&quot;: false 
      } 
  }
]
</code></pre><h4 id="401-6">401</h4>
<p>Unauthorized.</p>
<h4 id="403-6">403</h4>
<p>Forbidden.</p>
<h4 id="404-5">404</h4>
<p>Tenant not found.</p>
<h4 id="500-6">500</h4>
<p>Internal server error.</p>
<hr>
<h2 id="get-identity-provider-from-tenant"><code>Get Identity Provider from Tenant</code></h2>
<p>Get an Identity Provider from a Tenant.</p>
<h3 id="request-7">Request</h3>
<p><code>GET api/v1/Tenants/{tenantId}/IdentityProviders/{identityProviderId}</code></p>
<h3 id="parameters-7">Parameters</h3>
<pre><code class="lang-csharp">[Required]
string tenantId
</code></pre><p>Id of Tenant.</p>
<pre><code class="lang-csharp">[Required]
Guid identityProviderId
</code></pre><p>Id of Identity Provider.</p>
<h3 id="security-7">Security</h3>
<p>Allowed for these roles:</p>
<ul>
<li><code>Account Member</code></li>
<li><code>Account Administrator</code></li>
</ul>
<h3 id="returns-7">Returns</h3>
<h4 id="200-7">200</h4>
<p>Success.</p>
<h5 id="type-7">Type:</h5>
<p> <code>IdentityProvider</code></p>
<pre><code class="lang-json">{
  &quot;Id&quot;: &quot;00000000-0000-0000-0000-000000000000&quot;,
  &quot;DisplayName&quot;: &quot;Name&quot;,
  &quot;Scheme&quot;: &quot;Scheme&quot;,
  &quot;UserIdClaimType&quot;: &quot;UserIdClaimType&quot;,
  &quot;ClientId&quot;: &quot;ClientId&quot;,
  &quot;IsConfigured&quot;: false,
  &quot;Capabilities&quot;: { 
      &quot;User&quot;: { 
        &quot;SignIn&quot;: true, 
        &quot;Invitation&quot;: true, 
        &quot;Search&quot;: false 
      }, 
      &quot;Group&quot;: { 
        &quot;Authorize&quot;: false, 
        &quot;Search&quot;: false 
      } 
}
</code></pre><h4 id="401-7">401</h4>
<p>Unauthorized.</p>
<h4 id="403-7">403</h4>
<p>Forbidden.</p>
<h4 id="404-6">404</h4>
<p>IdentityProvider or Tenant not found.</p>
<h4 id="500-7">500</h4>
<p>Internal server error.</p>
<hr>
<h2 id="add-identity-provider-to-tenant"><code>Add Identity Provider to Tenant</code></h2>
<p>Add an existing Identity Provider to a Tenant. This Identity Provider
            will be available in the Home Realm Discovery Page
            for users to sign-in or sign-up.</p>
<h3 id="request-8">Request</h3>
<p><code>POST api/v1/Tenants/{tenantId}/IdentityProviders</code></p>
<h3 id="parameters-8">Parameters</h3>
<pre><code class="lang-csharp">[Required]
string tenantId
</code></pre><p>Id of Tenant.</p>
<pre><code class="lang-csharp">[FromBody]
[Required]
IdentityProviderAdd identityProviderAdd
</code></pre><p>IdentityProviderAdd object.</p>
<table>
<thead>
<tr>
<th>Property Name</th>
<th>Data Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>IdentityProviderId</td>
<td>Guid</td>
<td>Yes</td>
<td>Identity Provider Id to Add.</td>
</tr>
<tr>
<td>AzureActiveDirectorySendConsent</td>
<td>bool</td>
<td>No</td>
<td>A value indicating whether send consent email for Azure Active Directory.</td>
</tr>
<tr>
<td>AzureActiveDirectoryConsentEmail</td>
<td>string</td>
<td>Yes</td>
<td>Address to email consent.            Only Azure Active Directory Admins have permission to consent to            being allowed to interact with the tenant. The email            does not have to be sent to an Admin.</td>
</tr>
<tr>
<td>AzureActiveDirectoryConsentGivenName</td>
<td>string</td>
<td>Yes</td>
<td>Preferred name to use in the consent email.</td>
</tr>
<tr>
<td>AzureActiveDirectoryConsentSurname</td>
<td>string</td>
<td>Yes</td>
<td>Preferred surname to use in the consent email.</td>
</tr>
<tr>
<td>AzureActiveDirectoryTenant</td>
<td>string</td>
<td>Yes</td>
<td>Azure Active Directory Domain Name (for example, mydomain.onmicrosoft.com).</td>
</tr>
<tr>
<td>AzureActiveDirectoryConsentTypes</td>
<td>string</td>
<td>No</td>
<td>Azure Active Directory Consent Types (for example, SignIn or SignIn;ReadAllUsersGroups).</td>
</tr>
</tbody>
</table>
<pre><code class="lang-json">{
  &quot;IdentityProviderId&quot;: &quot;00000000-0000-0000-0000-000000000000&quot;,
  &quot;AzureActiveDirectorySendConsent&quot;: false,
  &quot;AzureActiveDirectoryConsentEmail&quot;: &quot;user@company.com&quot;,
  &quot;AzureActiveDirectoryConsentGivenName&quot;: &quot;Name&quot;,
  &quot;AzureActiveDirectoryConsentSurname&quot;: &quot;Surname&quot;,
  &quot;AzureActiveDirectoryTenant&quot;: &quot;AzureActiveDirectoryTenant&quot;,
  &quot;AzureActiveDirectoryConsentTypes&quot;: &quot;AzureActiveDirectoryConsentTypes&quot;
}
</code></pre><h3 id="security-8">Security</h3>
<p>Allowed for these roles:</p>
<ul>
<li><code>Account Administrator</code></li>
</ul>
<h3 id="returns-8">Returns</h3>
<h4 id="201">201</h4>
<p>Created.</p>
<h5 id="type-8">Type:</h5>
<p> <code>IdentityProvider</code></p>
<pre><code class="lang-json">{
  &quot;Id&quot;: &quot;00000000-0000-0000-0000-000000000000&quot;,
  &quot;DisplayName&quot;: &quot;Name&quot;,
  &quot;Scheme&quot;: &quot;Scheme&quot;,
  &quot;UserIdClaimType&quot;: &quot;UserIdClaimType&quot;,
  &quot;ClientId&quot;: &quot;ClientId&quot;,
  &quot;IsConfigured&quot;: false,
  &quot;Capabilities&quot;: null
}
</code></pre><h4 id="400-1">400</h4>
<p>Missing or invalid inputs.</p>
<h4 id="401-8">401</h4>
<p>Unauthorized.</p>
<h4 id="403-8">403</h4>
<p>Forbidden.</p>
<h4 id="404-7">404</h4>
<p>Tenant not found.</p>
<h4 id="405">405</h4>
<p>Method not allowed at this base URL. Try the request again at the Global base URL.</p>
<h4 id="408">408</h4>
<p>Operation timed out.</p>
<h4 id="409">409</h4>
<p>Identity Provider already exists in Tenant.</p>
<h4 id="500-8">500</h4>
<p>Internal server error.</p>
<hr>
<h2 id="remove-identity-provider-from-tenant"><code>Remove Identity Provider From Tenant</code></h2>
<p>Remove an Identity Provider from a Tenant. Users provisioned
            with this Identity Provider will remain in the Tenant, but will
            not be able to authenticate.
            An administrator cannot remove the Identity Provider they are signed in with.</p>
<h3 id="request-9">Request</h3>
<p><code>DELETE api/v1/Tenants/{tenantId}/IdentityProviders/{identityProviderId}</code></p>
<h3 id="parameters-9">Parameters</h3>
<pre><code class="lang-csharp">[Required]
string tenantId
</code></pre><p>Id of Tenant.</p>
<pre><code class="lang-csharp">[Required]
Guid identityProviderId
</code></pre><p>Id of Identity Provider.</p>
<h3 id="security-9">Security</h3>
<p>Allowed for these roles:</p>
<ul>
<li><code>Account Administrator</code></li>
</ul>
<h3 id="returns-9">Returns</h3>
<h4 id="204">204</h4>
<p>Removed.</p>
<h4 id="401-9">401</h4>
<p>Unauthorized.</p>
<h4 id="403-9">403</h4>
<p>Forbidden.</p>
<h4 id="404-8">404</h4>
<p>IdentityProvider or Tenant not found.</p>
<h4 id="405-1">405</h4>
<p>Method not allowed at this base URL. Try the request again at the Global base URL.</p>
<h4 id="408-1">408</h4>
<p>Operation timed out.</p>
<h4 id="500-9">500</h4>
<p>Internal server error.</p>
<hr>
<h2 id="get-header-for-identity-provider"><code>Get Header for Identity Provider</code></h2>
<p>Validate that a Identity Provider exists in the Tenant.
            This endpoint is identical to the GET one but
            it does not return any objects in the body.</p>
<h3 id="request-10">Request</h3>
<p><code>HEAD api/v1/Tenants/{tenantId}/IdentityProviders/{identityProviderId}</code></p>
<h3 id="parameters-10">Parameters</h3>
<pre><code class="lang-csharp">[Required]
string tenantId
</code></pre><p>Id of Tenant.</p>
<pre><code class="lang-csharp">[Required]
Guid identityProviderId
</code></pre><p>Id of Identity Provider.</p>
<h3 id="security-10">Security</h3>
<p>Allowed for these roles:</p>
<ul>
<li><code>Account Member</code></li>
<li><code>Account Administrator</code></li>
</ul>
<h3 id="returns-10">Returns</h3>
<h4 id="200-8">200</h4>
<p>Success.</p>
<h5 id="type-9">Type:</h5>
<p> <code>Void</code></p>
<h4 id="401-10">401</h4>
<p>Unauthorized.</p>
<h4 id="403-10">403</h4>
<p>Forbidden.</p>
<h4 id="404-9">404</h4>
<p>IdentityProvider or Tenant not found.</p>
<h4 id="500-10">500</h4>
<p>Internal server error.</p>
<hr>
<h2 id="get-total-count-of-identity-providers"><code>Get Total Count of Identity Providers</code></h2>
<p>Return total number of Identity Providers in a Tenant. The
            value will be set in the Total-Count header. This endpoint
            is identical to the GET one but it does not return any objects
            in the body.</p>
<h3 id="request-11">Request</h3>
<p><code>HEAD api/v1/Tenants/{tenantId}/IdentityProviders</code></p>
<h3 id="parameters-11">Parameters</h3>
<pre><code class="lang-csharp">[Required]
string tenantId
</code></pre><p>Id of Tenant.</p>
<h3 id="security-11">Security</h3>
<p>Allowed for these roles:</p>
<ul>
<li><code>Account Member</code></li>
<li><code>Account Administrator</code></li>
</ul>
<h3 id="returns-11">Returns</h3>
<h4 id="200-9">200</h4>
<p>Success.</p>
<h5 id="type-10">Type:</h5>
<p> <code>Void</code></p>
<h4 id="401-11">401</h4>
<p>Unauthorized.</p>
<h4 id="403-11">403</h4>
<p>Forbidden.</p>
<h4 id="404-10">404</h4>
<p>Tenant not found.</p>
<h4 id="500-11">500</h4>
<p>Internal server error.</p>
<hr>
<h2 id="get-a-list-of-all-user-on-an-identity-provider"><code>Get a List of all User on an Identity Provider</code></h2>
<p>Get a list of users that matches the query string on an Identity Provider that supports advanced integration, such as Azure Active Directory. The prerequisite is that the identity provider must have already consented to sharing access to its directory with the OCS tenant.</p>
<h3 id="request-12">Request</h3>
<p><code>GET api/v1/Tenants/{tenantId}/IdentityProviders/{identityProviderId}/{IdpId}/Users?query={user}&amp;count={count}&amp;skipToken={optional}</code></p>
<h3 id="parameters-12">Parameters</h3>
<pre><code class="lang-csharp">[Required]
string tenantId
</code></pre><p>Id of Tenant.</p>
<pre><code class="lang-csharp">[Required]
Guid identityProviderId
</code></pre><p>Id of Identity Provider.</p>
<pre><code class="lang-csharp">[FromQuery]
[Optional]
[Default = 100]
int32 count
</code></pre><p>Maximum number of users to return.</p>
<pre><code class="lang-csharp">[FromQuery]
[Optional]
string skiptoken
</code></pre><p>An encoded string that identifies the set of users that was not returned. For example, if you specify a count of the first 50 users matching your query, the skiptoken identifies the 51st user.</p>
<h3 id="security-12">Security</h3>
<p>Allowed for these roles:</p>
<ul>
<li><code>Account Administrator</code></li>
</ul>
<h3 id="returns-12">Returns</h3>
<h4 id="200-10">200</h4>
<p>Success.</p>
<h5 id="type-11">Type:</h5>
<pre><code class="lang-json">&quot;Results&quot;: [
  {
    &quot;Id&quot;: &quot;00000000-0000-0000-0000-000000000000&quot;,
    &quot;GivenName&quot;: &quot;GivenName&quot;,
    &quot;Surname&quot;: &quot;Surname&quot;,
    &quot;Name&quot;: &quot;Name&quot;,
    &quot;Email&quot;: &quot;Email&quot;,
  },
  {
    &quot;Id&quot;: &quot;00000000-0000-0000-0000-000000000000&quot;,
    &quot;GivenName&quot;: &quot;GivenName&quot;,
    &quot;Surname&quot;: &quot;Surname&quot;,
    &quot;Name&quot;: &quot;Name&quot;,
    &quot;Email&quot;: &quot;Email&quot;,
  }
],
&quot;SkipToken&quot;: SkipToken
</code></pre><h2 id="get-a-list-of-all-groups-on-an-identity-provider"><code>Get a List of all Groups on an Identity Provider</code></h2>
<p>Get a list of groups that matches the query string on an identity provider that supports advanced integration, such as Azure Active Directory. The prerequisite is that the identity provider must have already consented to sharing access to its directory with the OCS tenant. The consent grants User.Read.All and GroupMember.Read.all permissions to the OCS tenant.</p>
<h3 id="request-13">Request</h3>
<p><code>GET api/v1/Tenants/{tenantId}/IdentityProviders/{identityProviderId}/{IdpId}/Groups?query={group}&amp;count={count}&amp;skipToken={optional}</code></p>
<h3 id="parameters-13">Parameters</h3>
<pre><code class="lang-csharp">[Required]
string tenantId
</code></pre><p>Id of Tenant.</p>
<pre><code class="lang-csharp">[Required]
Guid identityProviderId
</code></pre><p>Id of Identity Provider.</p>
<pre><code class="lang-csharp">[FromQuery]
[Optional]
[Default = 100]
int32 count
</code></pre><p>Maximum number of groups to return.</p>
<pre><code class="lang-csharp">[FromQuery]
[Optional]
string skiptoken
</code></pre><p>An encoded string that identifies the set of groups that was not returned. For example, if you specify a count of the first 5 groups matching your query, the skiptoken identifies the 6th group.</p>
<h3 id="security-13">Security</h3>
<p>Allowed for these roles:</p>
<ul>
<li><code>Account Administrator</code></li>
</ul>
<h3 id="returns-13">Returns</h3>
<h4 id="200-11">200</h4>
<p>Success.</p>
<h5 id="type-12">Type:</h5>
<pre><code class="lang-json">&quot;Results&quot;: [
  {
    &quot;Id&quot;: &quot;00000000-0000-0000-0000-000000000000&quot;,
    &quot;Name&quot;: &quot;Name&quot;,
    &quot;Email&quot;: &quot;Email&quot;,
  },
  {
    &quot;Id&quot;: &quot;00000000-0000-0000-0000-000000000000&quot;,
    &quot;Name&quot;: &quot;Name&quot;,
    &quot;Email&quot;: &quot;Email&quot;,
  }
],
&quot;SkipToken&quot;: SkipToken
</code></pre><h4 id="401-12">401</h4>
<p>Unauthorized.</p>
<h4 id="403-12">403</h4>
<p>Forbidden.</p>
<h4 id="404-11">404</h4>
<p>IdentityProvider or Tenant not found.</p>
<h4 id="500-12">500</h4>
<p>Internal server error.</p>
<hr>
<h2 id="get-a-list-of-all-groups-that-a-user-belongs-to-on-an-identity-provider"><code>Get a List of all Groups that a User belongs to on an Identity Provider</code></h2>
<p>Get a list of all groups that the specified user belongs to on an Identity Provider that supports advanced integration, such as Azure Active Directory. The prerequisite is that the identity provider must have already consented to sharing access to its directory with the OCS tenant. The consent grants User.Read.All and GroupMember.Read.all permissions to the OCS tenant.</p>
<h3 id="request-14">Request</h3>
<p><code>GET api/v1/Tenants/{tenantId}/IdentityProviders/{identityProviderId}/{IdpId}/Users/{userId}/Groups?count={count}&amp;skipToken={optional}</code></p>
<h3 id="parameters-14">Parameters</h3>
<pre><code class="lang-csharp">[Required]
string tenantId
</code></pre><p>Id of Tenant.</p>
<pre><code class="lang-csharp">[Required]
Guid identityProviderId
</code></pre><p>Id of Identity Provider.</p>
<pre><code class="lang-csharp">[Required]
Guid userId
</code></pre><p>Id of User.</p>
<pre><code class="lang-csharp">[FromQuery]
[Optional]
[Default = 100]
int32 count
</code></pre><p>Maximum number of groups to return.</p>
<pre><code class="lang-csharp">[FromQuery]
[Optional]
string skiptoken
</code></pre><p>An encoded string that identifies the set of groups that was not returned. For example, if you request a count of the first 3 groups matching your query, the skiptoken identifies the 4th user.</p>
<h3 id="security-14">Security</h3>
<p>Allowed for these roles:</p>
<ul>
<li><code>Account Administrator</code></li>
</ul>
<h3 id="returns-14">Returns</h3>
<h4 id="200-12">200</h4>
<p>Success.</p>
<h5 id="type-13">Type:</h5>
<pre><code class="lang-json">&quot;Users&quot;: [
  {
    &quot;Id&quot;: &quot;00000000-0000-0000-0000-000000000000&quot;,
    &quot;GivenName&quot;: &quot;GivenName&quot;,
    &quot;Surname&quot;: &quot;Surname&quot;,
    &quot;Name&quot;: &quot;Name&quot;,
    &quot;Email&quot;: &quot;Email&quot;,
  }
],
&quot;Groups&quot;: Groups
&quot;SkipToken&quot;: SkipToken
</code></pre><h4 id="401-13">401</h4>
<p>Unauthorized.</p>
<h4 id="403-13">403</h4>
<p>Forbidden.</p>
<h4 id="404-12">404</h4>
<p>IdentityProvider or Tenant not found.</p>
<h4 id="500-13">500</h4>
<p>Internal server error.</p>
<hr>
<h2 id="get-a-list-of-all-users-belongs-a-group-on-an-identity-provider"><code>Get a List of all Users belongs a Group on an Identity Provider</code></h2>
<p>Get a list of all users belonging to a specific group on an Identity Provider that supports advanced integration, such as Azure Active Directory. The prerequisite is that the identity provider must have already consented to sharing access to its directory with the OCS tenant.</p>
<h3 id="request-15">Request</h3>
<p><code>GET api/v1/Tenants/{tenantId}/IdentityProviders/{identityProviderId}/{IdpId}/Groups/{GroupId}/Members?count={count}&amp;skipToken={optional}</code></p>
<h3 id="parameters-15">Parameters</h3>
<pre><code class="lang-csharp">[Required]
string tenantId
</code></pre><p>Id of Tenant.</p>
<pre><code class="lang-csharp">[Required]
Guid identityProviderId
</code></pre><p>Id of Identity Provider.</p>
<pre><code class="lang-csharp">[Required]
Guid GroupId
</code></pre><p>Id of Group.</p>
<pre><code class="lang-csharp">[FromQuery]
[Optional]
[Default = 100]
int32 count
</code></pre><p>Maximum number of users to return.</p>
<pre><code class="lang-csharp">[FromQuery]
[Optional]
string skiptoken
</code></pre><p>An encoded string that identifies the set of users that was not returned. For example, if you request a count of the first 50 users matching your query, the skiptoken identifies the 51st user.</p>
<h3 id="security-15">Security</h3>
<p>Allowed for these roles:</p>
<ul>
<li><code>Account Administrator</code></li>
</ul>
<h3 id="returns-15">Returns</h3>
<h4 id="200-13">200</h4>
<p>Success.</p>
<h5 id="type-14">Type:</h5>
<pre><code class="lang-json">&quot;Results&quot;: [
  {
    &quot;Id&quot;: &quot;00000000-0000-0000-0000-000000000000&quot;,
    &quot;Name&quot;: &quot;Name&quot;,
    &quot;Email&quot;: &quot;Email&quot;,
  }
],
&quot;SkipToken&quot;: SkipToken
</code></pre><h4 id="401-14">401</h4>
<p>Unauthorized.</p>
<h4 id="403-14">403</h4>
<p>Forbidden.</p>
<h4 id="404-13">404</h4>
<p>IdentityProvider or Tenant not found.</p>
<h4 id="500-14">500</h4>
<p>Internal server error.</p>
<hr>
<h2 id="get-an-identity-provider-consent-from-a-tenant"><code>Get an Identity Provider Consent from a Tenant</code></h2>
<p>Get the consent information for an Identity Provider for a Tenant. The ConsentState property, if returned, determines whether an Identity Provider consents to sharing access to its directory with the OCS tenant. For example, the expected ConsentState&#39;s for Azure Active Directory (AAD) include (Pending_)SignIn and (Pending_)ReadAllUsersGroups.</p>
<h3 id="request-16">Request</h3>
<p><code>GET api/v1/Tenants/{tenantId}/IdentityProviders/{identityProviderId}/Consent</code></p>
<h3 id="parameters-16">Parameters</h3>
<pre><code class="lang-csharp">[Required]
string tenantId
</code></pre><p>Id of Tenant.</p>
<pre><code class="lang-csharp">[Required]
Guid identityProviderId
</code></pre><p>Id of Identity Provider to check for consent.</p>
<h3 id="security-16">Security</h3>
<p>Allowed for these roles:</p>
<ul>
<li><code>Account Member</code></li>
<li><code>Account Administrator</code></li>
</ul>
<h3 id="returns-16">Returns</h3>
<h4 id="200-14">200</h4>
<p>Success.</p>
<h5 id="type-15">Type:</h5>
<p> <code>IdentityProviderConsent</code></p>
<pre><code class="lang-json">
Microsoft Accounts and Google

{
  &quot;Scheme&quot;: &quot;Scheme&quot;,
}

Azure Active Directory

{
  &quot;Scheme&quot;: &quot;aad&quot;,
  &quot;AadTenantId&quot;: &quot;00000000-0000-0000-0000-000000000000&quot;,
  &quot;AadDomain&quot;: &quot;AadDomain&quot;,
  &quot;ConsentState&quot;: &quot;ConsentState&quot;
}
</code></pre><h4 id="401-15">401</h4>
<p>Unauthorized.</p>
<h4 id="403-15">403</h4>
<p>Forbidden.</p>
<h4 id="404-14">404</h4>
<p>IdentityProvider or Tenant not found.</p>
<h4 id="500-15">500</h4>
<p>Internal server error.</p>
<hr>
<h2 id="get-header-for-identity-provider-consent"><code>Get Header for Identity Provider Consent</code></h2>
<p>Validate that a Identity Provider Consent exists in the Tenant. This endpoint is identical to the GET one but it does not return any objects in the body.</p>
<h3 id="request-17">Request</h3>
<p><code>HEAD api/v1/Tenants/{tenantId}/IdentityProviders/{identityProviderId}/Consent</code></p>
<h3 id="parameters-17">Parameters</h3>
<pre><code class="lang-csharp">[Required]
string tenantId
</code></pre><p>Id of Tenant.</p>
<pre><code class="lang-csharp">[Required]
Guid identityProviderId
</code></pre><p>Id of Identity Provider to check for consent.</p>
<h3 id="security-17">Security</h3>
<p>Allowed for these roles:</p>
<ul>
<li><code>Account Member</code></li>
<li><code>Account Administrator</code></li>
</ul>
<h3 id="returns-17">Returns</h3>
<h4 id="200-15">200</h4>
<p>Success.</p>
<h5 id="type-16">Type:</h5>
<p> <code>Void</code></p>
<h4 id="401-16">401</h4>
<p>Unauthorized.</p>
<h4 id="403-16">403</h4>
<p>Forbidden.</p>
<h4 id="404-15">404</h4>
<p>IdentityProvider or Tenant not found.</p>
<h4 id="500-16">500</h4>
<p>Internal server error.</p>
<hr>
<h2 id="update-identity-provider-consent-of-a-tenant"><code>Update Identity Provider Consent of a Tenant</code></h2>
<p>Update the Identity Provider Consent of a Tenant. Currently only support Azure Active Directory. The consent grants User.Read.All and GroupMember.Read.all permissions to the OCS tenant.</p>
<h3 id="request-18">Request</h3>
<p><code>POST api/v1/Tenants/{tenantId}/IdentityProviders/{identityProviderId}/Consent</code></p>
<h3 id="parameters-18">Parameters</h3>
<pre><code class="lang-csharp">[Required]
string tenantId
</code></pre><p>Id of Tenant.</p>
<pre><code class="lang-csharp">[Required]
Guid identityProviderId
</code></pre><p>Id of Identity Provider to activate consent</p>
<pre><code class="lang-csharp">[FromBody]
[Required]
IdentityProviderConsent identityProviderConsent
</code></pre><p>IdentityProviderConsent object.</p>
<table>
<thead>
<tr>
<th>Property Name</th>
<th>Data Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Scheme</td>
<td>string</td>
<td>Yes</td>
<td>The scheme of the Identity Provider.</td>
</tr>
<tr>
<td>AadTenantId</td>
<td>string</td>
<td>No</td>
<td>Azure Active Directory Tenant Id.</td>
</tr>
<tr>
<td>AadDomain</td>
<td>string</td>
<td>No</td>
<td>Azure Active Directory Domain Name (for example, mydomain.onmicrosoft.com).</td>
</tr>
<tr>
<td>AadConsentTypes</td>
<td>string</td>
<td>Yes</td>
<td>Azure Active Directory Consent Types (for example, SignIn or SignIn;ReadAllUsersGroups).</td>
</tr>
<tr>
<td>ConsentEmail</td>
<td>string</td>
<td>Yes</td>
<td>Address to email consent. Only Azure Active Directory Admins have permission to consent to being allowed to interact with the tenant. The email does not have to be sent to an Admin.</td>
</tr>
<tr>
<td>ConsentFirstName</td>
<td>string</td>
<td>Yes</td>
<td>Preferred name to use in the consent email.</td>
</tr>
<tr>
<td>ConsentOverride</td>
<td>bool</td>
<td>No</td>
<td>A value indicating whether force a consent email to be sent for the specified ConsentTypes.</td>
</tr>
</tbody>
</table>
<pre><code class="lang-json">{
  &quot;Scheme&quot;: &quot;aad&quot;,
  &quot;AadTenantId&quot;: &quot;00000000-0000-0000-0000-000000000000&quot;,
  &quot;AadDomain&quot;: &quot; AadDomain&quot;,
  &quot;AadConsentTypes&quot;: &quot;AadConsentTypes&quot;,
  &quot;ConsentFirstName&quot;: &quot;Name&quot;,
  &quot;ConsentEmail&quot;: &quot;user@company.com&quot;,
  &quot;ConsentOverride&quot;: true
}
</code></pre><h3 id="security-18">Security</h3>
<p>Allowed for these roles:</p>
<ul>
<li><code>Account Administrator</code></li>
</ul>
<h3 id="returns-18">Returns</h3>
<h4 id="200-16">200</h4>
<p>Success.</p>
<h4 id="400-2">400</h4>
<p>Missing or invalid inputs.</p>
<h4 id="401-17">401</h4>
<p>Unauthorized.</p>
<h4 id="403-17">403</h4>
<p>Forbidden.</p>
<h4 id="404-16">404</h4>
<p>Tenant not found.</p>
<h4 id="408-2">408</h4>
<p>Operation timed out.</p>
<h4 id="500-17">500</h4>
<p>Internal server error.</p>
<hr>
</article>
          </div>
          
          <div class="hidden-sm col-md-2" role="complementary">
            <div class="sideaffix">
              <div class="contribution">
                <ul class="nav">
                  <li>
                    <a href="https://github.com/osisoft/OCS-Docs/blob/master/Content_Portal/Documentation/Identity/Identity_IdentityProvider.md/#L1" class="contribution-link">Improve this Doc</a>
                  </li>
                </ul>
              </div>
              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
              <!-- <p><a class="back-to-top" href="#top">Back to top</a><p> -->
              </nav>
            </div>
          </div>
        </div>
      </div>
      
      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
            
            <span><a href="https://www.osisoft.com/copyright/">© 1995 - 2020 OSIsoft, LLC. All rights reserved.</a></span>
          </div>
        </div>
      </footer>
    </div>
    
    <script type="text/javascript" src="../../../styles/docfx.vendor.js"></script>
    <script type="text/javascript" src="../../../styles/docfx.js"></script>
    <script type="text/javascript" src="../../../styles/main.js"></script>
  </body>
</html>

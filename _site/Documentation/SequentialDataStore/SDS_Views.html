<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Stream Views </title>
    <meta name="viewport" content="width=device-width">
    <meta name="title" content="Stream Views ">
    <meta name="generator" content="docfx 2.39.2.0">
    
    <link rel="shortcut icon" href="../../favicon.ico">
    <link rel="stylesheet" href="../../styles/docfx.vendor.css">
    <link rel="stylesheet" href="../../styles/docfx.css">
    <link rel="stylesheet" href="../../styles/main.css">
    <meta property="docfx:navrel" content="../../toc.html">
    <meta property="docfx:tocrel" content="../toc.html">
    
    <meta property="docfx:rel" content="../../">
    
  </head>
  <body data-spy="scroll" data-target="#affix" data-offset="120">
    <div id="wrapper">
      <header>
        
        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              <a class="navbar-brand" href="../../index.html" width="46">
                <img id="logo" src="../../Documentation/images/atlas_icon.png" height="46" width="46" alt="OSIsoft Cloud Serices"> 
              </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="search">
                <div class="form-group">
                  <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
                </div>
              </form>
            </div>
          </div>
        </nav>
        
        <div class="subnav navbar navbar-default">
          <div class="container hide-when-search" id="breadcrumb">
            <ul class="breadcrumb">
              <li></li>
            </ul>
          </div>
        </div>
      </header>
      <div class="container body-content">
        
        <div id="search-results">
          <div class="search-list"></div>
          <div class="sr-items">
            <p><i class="glyphicon glyphicon-refresh index-loading"></i></p>
          </div>
          <ul id="pagination"></ul>
        </div>
      </div>
      <div role="main" class="container body-content hide-when-search">
        
        <div class="sidenav hide-when-search">
          <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle">Show / Hide Table of Contents</a>
          <div class="sidetoggle collapse" id="sidetoggle">
            <div id="sidetoc"></div>
          </div>
        </div>
        <div class="article row grid-right">
          <div class="col-md-10">
            <article class="content wrap" id="_content" data-uid="sdsViews">
<h1 id="stream-views">Stream Views</h1>

<p>An SdsStreamView provides a way to map Stream data requests from one data type to another. You can apply 
a Stream View to any read or GET operation. SdsStreamView is used to specify the mapping between source and target types.</p>
<p>SDS attempts to determine how to map Properties from the source to the destination. When the mapping 
is straightforward, such as when the properties are in the same position and of the same data type, 
or when the properties have the same name, SDS will map the properties automatically.</p>
<p>When SDS is unable to determine how to map a source property, the property is removed. If SDS encounters 
a target property that it cannot map to, the property is added and configured with a default value.</p>
<p>To map a property that is beyond the ability of SDS to map on its own, you should define an SdsStreamViewProperty 
and add it to the SdsStreamView’s Properties collection.</p>
<p>The following table shows the required and optional SdsStreamView fields. Fields that are not included are reserved for internal SDS use.</p>
<table>
<thead>
<tr>
<th>Property</th>
<th>Type</th>
<th>Optionality</th>
<th>Details</th>
</tr>
</thead>
<tbody>
<tr>
<td>Id</td>
<td>String</td>
<td>Required</td>
<td>Identifier for referencing the stream view</td>
</tr>
<tr>
<td>Name</td>
<td>String</td>
<td>Optional</td>
<td>Friendly name</td>
</tr>
<tr>
<td>Description</td>
<td>String</td>
<td>Optional</td>
<td>Description text</td>
</tr>
<tr>
<td>SourceTypeId</td>
<td>String</td>
<td>Required</td>
<td>Identifier of the SdsType of the SdsStream</td>
</tr>
<tr>
<td>TargetTypeId</td>
<td>String</td>
<td>Required</td>
<td>Identifier of the SdsType to convert events to</td>
</tr>
<tr>
<td>Properties</td>
<td>IList<sdsstreamviewproperty></sdsstreamviewproperty></td>
<td>Optional</td>
<td>Property level mapping</td>
</tr>
</tbody>
</table>
<p><strong>Rules for type identifier</strong></p>
<ol>
<li>Is not case sensitive</li>
<li>Can contain spaces</li>
<li>Cannot begin with two underscores (&quot;__&quot;)</li>
<li>Cannot contain forward slash or backslash characters (&quot;/&quot; or &quot;\&quot;)</li>
<li>Can contain a maximum of 100 characters</li>
<li>Cannot start or end with a period.</li>
<li>Cannot contain consecutive periods.</li>
<li>Cannot consist of only periods.</li>
</ol>
<h2 id="properties--sdsstreamviewproperty">Properties / SdsStreamViewProperty</h2>
<p>The SdsStreamView Properties collection provides detailed instructions for specifying the mapping of 
event properties. Each SdsStreamViewProperty in the Properties collection defines the mapping of an 
event’s property. SdsStreamView Properties are required only when property mapping is not straightforward. 
Additionally, if you do not want a type property mapped, it is not necessary to create an SdsStreamView 
property for it.</p>
<p>The following table shows the required and optional SdsStreamViewProperty fields.</p>
<table>
<thead>
<tr>
<th>Property</th>
<th>Type</th>
<th>Optionality</th>
<th>Details</th>
</tr>
</thead>
<tbody>
<tr>
<td>SourceId</td>
<td>String</td>
<td>Required</td>
<td>Identifier of the SdsTypeProperty from the source SdsType Properties list</td>
</tr>
<tr>
<td>TargetId</td>
<td>String</td>
<td>Required</td>
<td>Identifier of the SdsTypeProperty from the target SdsType Properties list</td>
</tr>
<tr>
<td>SdsStreamView</td>
<td>SdsStreamView</td>
<td>Optional</td>
<td>Additional mapping instructions for derived types</td>
</tr>
</tbody>
</table>
<p>The SdsStreamView field supports nested Properties.</p>
<h2 id="sdsstreamviewmap">SdsStreamViewMap</h2>
<p>When an SdsStreamView is added, SDS defines a plan mapping. Plan details are retrieved as an SdsStreamViewMap. 
The SdsStreamViewMap provides a detailed Property-by-Property definition of the mapping. </p>
<p>The following table shows the SdsStreamViewMap fields. The SdsStreamViewMap cannot be written to SDS, 
so required and optional have no meaning.</p>
<table>
<thead>
<tr>
<th>Property</th>
<th>Type</th>
<th>Optionality</th>
<th>Details</th>
</tr>
</thead>
<tbody>
<tr>
<td>SourceTypeId</td>
<td>String</td>
<td>Required</td>
<td>Identifier of the SdsType of the SdsStream</td>
</tr>
<tr>
<td>TargetTypeId</td>
<td>String</td>
<td>Required</td>
<td>Identifier of the SdsType to convert events to</td>
</tr>
<tr>
<td>Properties</td>
<td>IList<sdsstreamviewmapproperty></sdsstreamviewmapproperty></td>
<td>Optional</td>
<td>Property level mapping</td>
</tr>
</tbody>
</table>
<h3 id="properties--sdsstreamviewmapproperty">Properties / SdsStreamViewMapProperty</h3>
<p>The SdsStreamViewMapProperty is similar an SdsStreamViewProperty but adds a Mode detailing one or more actions taken on 
the Property.</p>
<p>The following table shows the SdsStreamViewMapProperty fields. The SdsStreamViewMap cannot be written; it can only be 
retrieved from SDS, so required and optional have no meaning.</p>
<table>
<thead>
<tr>
<th>Property</th>
<th>Type</th>
<th>Details</th>
</tr>
</thead>
<tbody>
<tr>
<td>SourceTypeId</td>
<td>String</td>
<td>Identifier of the SdsType of the SdsStream</td>
</tr>
<tr>
<td>TargetTypeId</td>
<td>String</td>
<td>Identifier of the SdsType to convert events to</td>
</tr>
<tr>
<td>Mode</td>
<td>SdsStreamViewMode</td>
<td>Aggregate of actions applied to the properties. SdsStreamViewModes are combined via binary arithmetic</td>
</tr>
<tr>
<td>SdsStreamViewMap</td>
<td>SdsStreamViewMap</td>
<td>Mapping for derived types</td>
</tr>
</tbody>
</table>
<p>The available SdsStreamViewModes are shown in the table below.</p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Value</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>None</td>
<td>0x0000</td>
<td>No action</td>
</tr>
<tr>
<td>FieldAdd</td>
<td>0x0001</td>
<td>Add a property matching the specified SdsTypeProperty</td>
</tr>
<tr>
<td>FieldRemove</td>
<td>0x0002</td>
<td>Remove the property matching the specified SdsTypeProperty</td>
</tr>
<tr>
<td>FieldRename</td>
<td>0x0004</td>
<td>Rename the property matching the source SdsTypeProperty to the target SdsTypeProperty</td>
</tr>
<tr>
<td>FieldMove</td>
<td>0x0008</td>
<td>Move the property from the location in the source to the location in the target</td>
</tr>
<tr>
<td>FieldConversion</td>
<td>0x0016</td>
<td>Converts the source property to the target type</td>
</tr>
<tr>
<td>InvalidFieldConversion</td>
<td>0x0032</td>
<td>Cannot perform the specified mapping</td>
</tr>
</tbody>
</table>
<h2 id="changing-stream-type">Changing Stream Type</h2>
<p>Stream Views can be used to change the Type defining a Stream. You cannot modify the SdsType; types are immutable. 
But you can map a stream from its current type to a new type.</p>
<p>To update a Stream&#39;s Type, define an SdsStreamView and PUT the stream view to the following:</p>
<pre><code>   PUT api/v1-preview/Tenants/{tenantId}/Namespaces/{namespaceId}/Streams/{streamId}/Type?streamViewId={streamViewId}
</code></pre><p>For details, see <a href="xref:sdsStreams-update-stream-type">Update Stream Type</a>. </p>
<h2 id="working-with-stream-views-when-using-net">Working with Stream Views when using .NET</h2>
<p><strong>Using .Net</strong></p>
<p>When working in .NET, use the SDS Client libraries’ ISdsMetadataService.</p>
<p>Given the following:</p>
<pre><code class="lang-csharp">public enum State
{
    Ok,
    Warning,
    Alarm
}

public class Simple
{
    [SdsMember(IsKey = true, Order = 0)]
    public DateTime Time { get; set; }
    public State State { get; set; }
    public double Measurement { get; set; }
}

SdsType simpleType = SdsTypeBuilder.CreateSdsType&lt;Simple&gt;();
simpleType.Id = &quot;Simple&quot;;
simpleType.Name = &quot;Simple&quot;;
await config.GetOrCreateTypeAsync(simpleType);//.CreateOrUpdateTypeAsync(simpleType);//.GetOrCreateTypeAsync(simpleType);

SdsStream simpleStream = await config.GetOrCreateStreamAsync(new SdsStream()
{
    Id = &quot;Simple&quot;,
    Name = &quot;Simple&quot;,
    TypeId = simpleType.Id
});

DateTime start = new DateTime(2017, 4, 1).ToUniversalTime();

for (int i = 0; i &lt; 10; i++)
{
    Simple value = new Simple()
    {
        Time = start + TimeSpan.FromMinutes(i),
        State = State.Warning,
        Measurement = i
    };
    await client.InsertValueAsync(simpleStream.Id, value);
}

IEnumerable&lt;Simple&gt; simpleValues = await client.GetWindowValuesAsync&lt;Simple&gt;(simpleStream.Id, start.ToString(&quot;o&quot;),
    start.Add(TimeSpan.FromMinutes(10)).ToString(&quot;o&quot;));
foreach (Simple value in simpleValues)
    Console.WriteLine($&quot;{value.Time}: {value.State}, {value.Measurement}&quot;);

// The example displays the following output:
//  4 / 1 / 2017 7:00:00 AM: Warning, 0
//  4 / 1 / 2017 7:01:00 AM: Warning, 1
//  4 / 1 / 2017 7:02:00 AM: Warning, 2
//  4 / 1 / 2017 7:03:00 AM: Warning, 3
//  4 / 1 / 2017 7:04:00 AM: Warning, 4
//  4 / 1 / 2017 7:05:00 AM: Warning, 5
//  4 / 1 / 2017 7:06:00 AM: Warning, 6
//  4 / 1 / 2017 7:07:00 AM: Warning, 7
//  4 / 1 / 2017 7:08:00 AM: Warning, 8
//  4 / 1 / 2017 7:09:00 AM: Warning, 9
</code></pre><p>To map the Measurement property to a property in the same location of the same type, allow SDS to 
automatically determine mapping.</p>
<pre><code class="lang-csharp">public class Simple1
{
    [SdsMember(IsKey = true, Order = 0)]
    public DateTime Time { get; set; }
    public State State { get; set; }
    public double Value { get; set; }
}

SdsType simple1Type = SdsTypeBuilder.CreateSdsType&lt;Simple1&gt;();
simple1Type.Id = &quot;Simple1&quot;;
simple1Type.Name = &quot;Simple1&quot;;
simple1Type = await config.GetOrCreateTypeAsync(simple1Type);

SdsStreamView view = new SdsStreamView()
{
    Id = &quot;StreamView&quot;,
    Name = &quot;StreamView&quot;,
    SourceTypeId = simpleType.Id,
    TargetTypeId = simple1Type.Id,
};
view = await config.GetOrCreateStreamViewAsync(view);

SdsStreamViewMap map = await config.GetStreamViewMapAsync(view.Id);
Console.WriteLine($&quot;{map.SourceTypeId} to {map.TargetTypeId}&quot;);
for (int i = 0; i &lt; map.Properties.Count; i++)
    Console.WriteLine($&quot;\t{i}) {map.Properties[i].SourceId} to {map.Properties[i].TargetId} - {map.Properties[i].Mode}&quot;);
Console.WriteLine();

IEnumerable&lt;Simple1&gt; simple1Values = await client.GetWindowValuesAsync&lt;Simple1&gt;(simpleStream.Id, start.ToString(&quot;o&quot;),
    start.Add(TimeSpan.FromMinutes(10)).ToString(&quot;o&quot;), view.Id);
foreach (Simple1 value in simple1Values)
    Console.WriteLine($&quot;{value.Time}: {value.State}, {value.Value}&quot;);

// The example displays the following output:
//    Simple to Simple1
//        0) Time to Time - None
//        1) State to State - None
//        2) Measurement to Value - FieldRename
//
//  4 / 1 / 2017 7:00:00 AM: Warning, 0
//  4 / 1 / 2017 7:01:00 AM: Warning, 1
//  4 / 1 / 2017 7:02:00 AM: Warning, 2
//  4 / 1 / 2017 7:03:00 AM: Warning, 3
//  4 / 1 / 2017 7:04:00 AM: Warning, 4
//  4 / 1 / 2017 7:05:00 AM: Warning, 5
//  4 / 1 / 2017 7:06:00 AM: Warning, 6
//  4 / 1 / 2017 7:07:00 AM: Warning, 7
//  4 / 1 / 2017 7:08:00 AM: Warning, 8
//  4 / 1 / 2017 7:09:00 AM: Warning, 9
</code></pre><p>A quick look at the SdsStreamViewMap shows that SDS was able to determine that mapping from Measurement 
to Value involved a rename.</p>
<p>SDS can also determine mapping of properties of the same name but different type. Note that the 
location of the Measurement property is also different yet it is still mapped.</p>
<pre><code class="lang-csharp">public class Simple2
{
    [SdsMember(IsKey = true, Order = 0)]
    public DateTime Time { get; set; }
    public int Measurement { get; set; }
    public State State { get; set; }
}

SdsType simple2Type = SdsTypeBuilder.CreateSdsType&lt;Simple2&gt;();
simple2Type.Id = &quot;Simple2&quot;;
simple2Type.Name = &quot;Simple2&quot;;
simple2Type = await config.GetOrCreateTypeAsync(simple2Type);

SdsStreamView view = new SdsStreamView() 
{
    Id = &quot;StreamView1&quot;,
    Name = &quot;StreamView1&quot;,
    SourceTypeId = simpleType.Id,
    TargetTypeId = simple2Type.Id,
};
view = await config.GetOrCreateStreamViewAsync(view);

SdsStreamViewMap map = await config.GetStreamViewMapAsync(view.Id);
Console.WriteLine($&quot;{map.SourceTypeId} to {map.TargetTypeId}&quot;);
for (int i = 0; i &lt; map.Properties.Count; i++)
    Console.WriteLine($&quot;\t{i}) {map.Properties[i].SourceId} to {map.Properties[i].TargetId} - {map.Properties[i].Mode}&quot;);
Console.WriteLine();

IEnumerable&lt;Simple2&gt; simple2Values = await client.GetWindowValuesAsync&lt;Simple2&gt;(simpleStream.Id, start.ToString(&quot;o&quot;),
    start.Add(TimeSpan.FromMinutes(10)).ToString(&quot;o&quot;), view.Id);
foreach (Simple2 value in simple2Values)
    Console.WriteLine($&quot;{value.Time}: {value.State}, {value.Measurement}&quot;);

//The example displays the following output:
//    Simple to Simple2
//        0) Time to Time - None
//        1) State to State - None
//        2) Measurement to Measurement - FieldConversion
//
//    4 / 1 / 2017 7:00:00 AM: Warning, 0
//    4 / 1 / 2017 7:01:00 AM: Warning, 1
//    4 / 1 / 2017 7:02:00 AM: Warning, 2
//    4 / 1 / 2017 7:03:00 AM: Warning, 3
//    4 / 1 / 2017 7:04:00 AM: Warning, 4
//    4 / 1 / 2017 7:05:00 AM: Warning, 5
//    4 / 1 / 2017 7:06:00 AM: Warning, 6
//    4 / 1 / 2017 7:07:00 AM: Warning, 7
//    4 / 1 / 2017 7:08:00 AM: Warning, 8
//    4 / 1 / 2017 7:09:00 AM: Warning, 9
</code></pre><p>The SdsStreamViewMap shows that the source, floating point Measurement is converted to the target, integer Measurement.</p>
<p>When neither the field name nor field type and location match, SDS does not determine mapping. 
The source is eliminated and target is added and assigned the default value.</p>
<pre><code class="lang-csharp">public class Simple3
{
    [SdsMember(IsKey = true, Order = 0)]
    public DateTime Time { get; set; }
    public State State { get; set; }
    public int Value { get; set; }
}

SdsType simple3Type = SdsTypeBuilder.CreateSdsType&lt;Simple3&gt;();
simple3Type.Id = &quot;Simple3&quot;;
simple3Type.Name = &quot;Simple3&quot;;
simple3Type = await config.GetOrCreateTypeAsync(simple3Type);

SdsStreamView view = new SdsStreamView()
{
    Id = &quot;StreamView2&quot;,
    Name = &quot;StreamView2&quot;,
    SourceTypeId = simpleType.Id,
    TargetTypeId = simple3Type.Id,
};
view = await config.GetOrCreateStreamViewAsync(view);

SdsStreamViewMap map = await config.GetStreamViewMapAsync(view.Id);
Console.WriteLine($&quot;{map.SourceTypeId} to {map.TargetTypeId}&quot;);
for (int i = 0; i &lt; map.Properties.Count; i++)
    Console.WriteLine($&quot;\t{i}) {map.Properties[i].SourceId} to {map.Properties[i].TargetId} - {map.Properties[i].Mode}&quot;);
Console.WriteLine();

IEnumerable&lt;Simple3&gt; simple3Values = await client.GetWindowValuesAsync&lt;Simple3&gt;(simpleStream.Id, start.ToString(&quot;o&quot;),
    start.Add(TimeSpan.FromMinutes(10)).ToString(&quot;o&quot;), view.Id);
foreach (Simple3 value in simple3Values)
    Console.WriteLine($&quot;{value.Time}: {value.State}, {value.Value}&quot;);

//The example displays the following output:
//    Simple to Simple3
//        0) Time to Time - None
//        1) State to State - None
//        2) Measurement to  -FieldRemove
//        3)  to Value -FieldAdd
//
// 4 / 1 / 2017 7:00:00 AM: Warning, 0
// 4 / 1 / 2017 7:01:00 AM: Warning, 0
// 4 / 1 / 2017 7:02:00 AM: Warning, 0
// 4 / 1 / 2017 7:03:00 AM: Warning, 0
// 4 / 1 / 2017 7:04:00 AM: Warning, 0
// 4 / 1 / 2017 7:05:00 AM: Warning, 0
// 4 / 1 / 2017 7:06:00 AM: Warning, 0
// 4 / 1 / 2017 7:07:00 AM: Warning, 0
// 4 / 1 / 2017 7:08:00 AM: Warning, 0
// 4 / 1 / 2017 7:09:00 AM: Warning, 0
</code></pre><p>To map when SDS cannot determine mapping, use SdsStreamView Properties.</p>
<pre><code class="lang-csharp">SdsStreamView view = new SdsStreamView()
{
    Id = &quot;SteamView3&quot;,
    Name = &quot;StreamView3&quot;,
    SourceTypeId = simpleType.Id,
    TargetTypeId = simple3Type.Id,
    Properties = new List&lt;SdsStreamViewProperty&gt;()
    {
        new SdsStreamViewProperty()
        {
            SourceId = &quot;Time&quot;,
            TargetId = &quot;Time&quot;
        },
        new SdsStreamViewProperty()
        {
            SourceId = &quot;Status&quot;,
            TargetId = &quot;Status&quot;
        },
        new SdsStreamViewProperty()
        {
            SourceId = &quot;Measurement&quot;,
            TargetId = &quot;Value&quot;
        }
    }
};
view = await config.GetOrCreateStreamViewAsync(view);

SdsStreamViewMap map = await config.GetStreamViewMapAsync(view.Id);
Console.WriteLine($&quot;{map.SourceTypeId} to {map.TargetTypeId}&quot;);
for (int i = 0; i &lt; map.Properties.Count; i++)
    Console.WriteLine($&quot;\t{i}) {map.Properties[i].SourceId} to {map.Properties[i].TargetId} - {map.Properties[i].Mode}&quot;);
Console.WriteLine();

IEnumerable&lt;Simple3&gt; simple3Values = await client.GetWindowValuesAsync&lt;Simple3&gt;(simpleStream.Id, start.ToString(&quot;o&quot;),
    start.Add(TimeSpan.FromMinutes(10)).ToString(&quot;o&quot;), view.Id);
foreach (Simple3 value in simple3Values)
    Console.WriteLine($&quot;{value.Time}: {value.State}, {value.Value}&quot;);

//The example displays the following output:
//    Simple to Simple3
//        0) Time to Time - None
//        1) State to State - None
//        2) Measurement to Value - FieldRename, FieldConversion
//
//    4 / 1 / 2017 7:00:00 AM: Warning, 0
//    4 / 1 / 2017 7:01:00 AM: Warning, 1
//    4 / 1 / 2017 7:02:00 AM: Warning, 2
//    4 / 1 / 2017 7:03:00 AM: Warning, 3
//    4 / 1 / 2017 7:04:00 AM: Warning, 4
//    4 / 1 / 2017 7:05:00 AM: Warning, 5
//    4 / 1 / 2017 7:06:00 AM: Warning, 6
//    4 / 1 / 2017 7:07:00 AM: Warning, 7
//    4 / 1 / 2017 7:08:00 AM: Warning, 8
//    4 / 1 / 2017 7:09:00 AM: Warning, 9
</code></pre><h2 id="working-with-sdsstreamviews-when-not-using-net">Working with SdsStreamViews when not using .NET</h2>
<p>When working with Stream Views and not using .NET, either invoke HTTP directly or use some of 
the sample code. Both Python and JavaScript samples have SdsStreamView definitions.</p>
<p>The JSON for a simple mapping between a source type with identifier Sample and a target 
type with identifier Sample1 would appear as follows.</p>
<pre><code class="lang-json">{  
  &quot;Id&quot;:&quot;StreamView&quot;,
  &quot;Name&quot;:&quot;StreamView&quot;,
  &quot;SourceTypeId&quot;:&quot;Simple&quot;,
  &quot;TargetTypeId&quot;:&quot;Simple1&quot;
}
</code></pre><p>The SdsStreamViewMap would appear as follows.</p>
<pre><code class="lang-json">{  
  &quot;SourceTypeId&quot;:&quot;Simple&quot;,
  &quot;TargetTypeId&quot;:&quot;Simple1&quot;,
  &quot;Properties&quot;:[  
      {  
        &quot;SourceId&quot;:&quot;Time&quot;,
        &quot;TargetId&quot;:&quot;Time&quot;
      },
      {  
        &quot;SourceId&quot;:&quot;State&quot;,
        &quot;TargetId&quot;:&quot;State&quot;
      },
      {  
        &quot;SourceId&quot;:&quot;Measurement&quot;,
        &quot;TargetId&quot;:&quot;Value&quot;,
        &quot;Mode&quot;:4
      }
  ]
}
</code></pre><h1 id="sdsstreamview-api">SdsStreamView API</h1>
<p>The REST APIs provide programmatic access to read and write SDS data. The APIs in this section interact 
with SdsStreamViews. When working in .NET convenient SDS Client libraries are available. The ISdsMetadataService 
interface, accessed using the <code>SdsService.GetMetadataService()</code> helper, defines the available functions. 
See <a href="#stream-views">Stream Views</a> for general SdsStreamView information.</p>
<hr>
<h2 id="get-stream-view"><code>Get Stream View</code></h2>
<p>Returns the stream view corresponding to the specified streamViewId within a given namespace.</p>
<p><strong>Request</strong></p>
<pre><code>    GET api/v1-preview/Tenants/{tenantId}/Namespaces/{namespaceId}/StreamViews/{streamViewId}
</code></pre><p><strong>Parameters</strong></p>
<p><code>string tenantId</code><br>The tenant identifier  </p>
<p><code>string namespaceId</code><br>The namespace identifier  </p>
<p><code>string streamViewId</code><br>The stream view identifier  </p>
<p><strong>Response</strong><br>The response includes a status code and a response body.</p>
<p><strong>Response body</strong><br>The requested SdsStreamView.</p>
<p>Example response body:</p>
<pre><code class="lang-json">HTTP/1.1 200
Content-Type: application/json
{  
   &quot;Id&quot;:&quot;StreamView&quot;,
   &quot;Name&quot;:&quot;StreamView&quot;,
   &quot;SourceTypeId&quot;:&quot;Simple&quot;,
   &quot;TargetTypeId&quot;:&quot;Simple3&quot;,
   &quot;Properties&quot;:[  
      {  
         &quot;SourceId&quot;:&quot;Time&quot;,
         &quot;TargetId&quot;:&quot;Time&quot;
      },
      {  
         &quot;SourceId&quot;:&quot;Status&quot;,
         &quot;TargetId&quot;:&quot;Status&quot;
      },
      {  
         &quot;SourceId&quot;:&quot;Measurement&quot;,
         &quot;TargetId&quot;:&quot;Value&quot;
      }
   ]
}
</code></pre><p><strong>.NET Library</strong></p>
<pre><code class="lang-csharp">   Task&lt;SdsStreamView&gt; GetStreamViewAsync(string streamViewId);
</code></pre><hr>
<h2 id="get-stream-view-map"><code>Get Stream View Map</code></h2>
<p>Returns the stream view map corresponding to the specified streamViewId within a given namespace.</p>
<p><strong>Request</strong></p>
<pre><code>    GET api/v1-preview/Tenants/{tenantId}/Namespaces/{namespaceId}/StreamViews/{streamViewId}/Map
</code></pre><p><strong>Parameters</strong></p>
<p><code>string tenantId</code><br>The tenant identifier  </p>
<p><code>string namespaceId</code><br>The namespace identifier  </p>
<p><code>string streamViewId</code><br>The stream view identifier  </p>
<p><strong>Response</strong><br> The response includes a status code and a response body.</p>
<p><strong>Response body</strong><br>The requested SdsStreamView.</p>
<p>Example response body:</p>
<pre><code class="lang-json">HTTP/1.1 200
Content-Type: application/json

{  
   &quot;SourceTypeId&quot;:&quot;Simple&quot;,
   &quot;TargetTypeId&quot;:&quot;Simple3&quot;,
   &quot;Properties&quot;:[  
      {  
         &quot;SourceId&quot;:&quot;Time&quot;,
         &quot;TargetId&quot;:&quot;Time&quot;
      },
      {  
         &quot;SourceId&quot;:&quot;Measurement&quot;,
         &quot;TargetId&quot;:&quot;Value&quot;,
         &quot;Mode&quot;:20
      },
      {  
         &quot;SourceId&quot;:&quot;State&quot;,
         &quot;Mode&quot;:2
      },
      {  
         &quot;TargetId&quot;:&quot;State&quot;,
         &quot;Mode&quot;:1 
      }
   ]
}
</code></pre><p><strong>.NET Library</strong></p>
<pre><code class="lang-csharp">   Task&lt;SdsStreamViewMap&gt; GetStreamViewMapAsync(string streamViewId);
</code></pre><hr>
<h2 id="get-stream-views"><code>Get Stream Views</code></h2>
<p>Returns a list of stream views within a given namespace.</p>
<p>If specifying the optional query parameter or optional filter parameter, the list of stream views returned is filtered to match 
the search/filter criteria. If neither parameter is specified, the list includes all stream views 
in the Namespace. See <a class="xref" href="Searching.html">Searching</a> and <a class="xref" href="Filter_Expressions_Metadata.html">Filter Expressions: Metadata Objects</a> for information about specifying those respective parameters.</p>
<p><strong>Request</strong></p>
<pre><code>    GET api/v1-preview/Tenants/{tenantId}/Namespaces/{namespaceId}/StreamViews?query={query}&amp;filter={filter}&amp;skip={skip}&amp;count={count}&amp;orderby={orderby}
</code></pre><p><strong>Parameters</strong></p>
<p><code>string tenantId</code><br>The tenant identifier</p>
<p><code>string namespaceId</code><br>The namespace identifier</p>
<p><code>string query</code><br>An optional parameter representing a string search. 
See <a class="xref" href="Searching.html">Searching</a>
for information about specifying the search parameter.</p>
<p><code>string filter</code><br>An optional filter string to match which SdsStreamViews will be returned.  See the 
<a class="xref" href="Filter_Expressions_Metadata.html">Filter Expressions: Metadata Objects</a> 
topic for information about specifying the filter parameter.</p>
<p><code>int skip</code><br>An optional parameter representing the zero-based offset of the first SdsStreamView to retrieve. 
If not specified, a default value of 0 is used.</p>
<p><code>int count</code><br>An optional parameter representing the maximum number of SdsStreamViews to retrieve. 
If not specified, a default value of 100 is used.</p>
<p><code>string orderby</code><br>An optional parameter representing sorted order which SdsStreamViews will be returned. A field name is required. The sorting is based   on the stored values for the given field (of type string). For example, <code>orderby=name</code> would sort the returned results by the      <code>name</code> values (ascending by default). Additionally, a value can be provided along with the field name to identify whether to sort       ascending or descending, by using values <code>asc</code> or <code>desc</code>, respectively. For example, <code>orderby=name desc</code> would sort the returned   results by the <code>name</code> values, descending. If no value is specified, there is no sorting of results.</p>
<p><strong>Response</strong><br>The response includes a status code and a response body.</p>
<p><strong>Response body</strong><br>A collection of zero or more SdsStreamViews.</p>
<p>Example response body:</p>
<pre><code class="lang-json">HTTP/1.1 200
Content-Type: application/json
[  
  {  
     &quot;Id&quot;:&quot;StreamView&quot;,
     &quot;Name&quot;:&quot;StreamView&quot;,
     &quot;SourceTypeId&quot;:&quot;Simple&quot;,
     &quot;TargetTypeId&quot;:&quot;Simple3&quot;
  },
  {  
     &quot;Id&quot;:&quot;StreamViewWithProperties&quot;,
     &quot;Name&quot;:&quot;StreamViewWithProperties&quot;,
     &quot;SourceTypeId&quot;:&quot;Simple&quot;,
     &quot;TargetTypeId&quot;:&quot;Simple3&quot;,
     &quot;Properties&quot;:[  
        {  
           &quot;SourceId&quot;:&quot;Time&quot;,
           &quot;TargetId&quot;:&quot;Time&quot;
        },
        {
           &quot;SourceId&quot;:&quot;Status&quot;,
           &quot;TargetId&quot;:&quot;Status&quot;
        },
        {
           &quot;SourceId&quot;:&quot;Measurement&quot;,
           &quot;TargetId&quot;:&quot;Value&quot;
        }                
     ]
  }
]
</code></pre><p><strong>.NET Library</strong></p>
<pre><code class="lang-csharp">   Task&lt;IEnumerable&lt;SdsStreamView&gt;&gt; GetStreamViewsAsync(int skip = 0, int count = 100);
</code></pre><hr>
<h2 id="get-or-create-stream-view"><code>Get or Create Stream View</code></h2>
<p>If a stream view with a matching identifier already exists, the stream view passed in is compared with the existing stream view.
If the stream views are identical, a Found (302) status is returned and the stream view. If the stream views are different, the Conflict (409) error is returned.</p>
<p>If no matching identifier is found, the specified stream view is created.  </p>
<p><strong>Request</strong></p>
<pre><code>    POST api/v1-preview/Tenants/{tenantId}/Namespaces/{namespaceId}/StreamViews/{streamViewId}
</code></pre><p><strong>Parameters</strong></p>
<p><code>string tenantId</code><br>The tenant identifier  </p>
<p><code>string namespaceId</code><br>The namespace identifier  </p>
<p><code>string streamViewId</code><br>The stream view identifier. The identifier must match the <code>SdsStreamView.Id</code> field.   </p>
<p><strong>Request body</strong><br>The request content is the serialized SdsStreamView. If you are not using the SDS client libraries, using JSON is recommended.</p>
<p><strong>Response</strong><br>The response includes a status code and a response body.</p>
<p><strong>Response body</strong><br>The newly created or matching SdsStreamView.</p>
<p><strong>.NET Library</strong></p>
<pre><code class="lang-csharp">   Task&lt;SdsStreamView&gt; GetOrCreateStreamViewAsync(SdsStreamView sdsStreamView);
</code></pre><hr>
<h2 id="create-or-update-stream-view"><code>Create or Update Stream View</code></h2>
<p>Creates or updates the definition of a stream view. </p>
<p><strong>Request</strong></p>
<pre><code>    PUT api/v1-preview/Tenants/{tenantId}/Namespaces/{namespaceId}/StreamViews/{streamViewId}
</code></pre><p><strong>Parameters</strong></p>
<p><code>string tenantId</code>
The tenant identifier  </p>
<p><code>string namespaceId</code><br>The namespace identifier  </p>
<p><code>string streamViewId</code><br>The stream view identifier  </p>
<p><strong>Request body</strong><br>The request content is the serialized SdsStreamView.</p>
<p><strong>Response</strong><br>The response includes a status code and a response body.</p>
<p><strong>Response body</strong><br>The newly created or updated SdsStreamView.</p>
<p><strong>.NET Library</strong></p>
<pre><code class="lang-csharp">   Task CreateOrUpdateStreamViewAsync(SdsStreamView SdsStreamView);
</code></pre><hr>
<h2 id="delete-stream-view"><code>Delete Stream View</code></h2>
<p>Deletes a stream view from the specified tenant and namespace.</p>
<p><strong>Request</strong></p>
<pre><code>    GET api/v1-preview/Tenants/{tenantId}/Namespaces/{namespaceId}/StreamViews/{streamViewId}
</code></pre><p><strong>Parameters</strong></p>
<p><code>string tenantId</code><br>The tenant identifier  </p>
<p><code>string namespaceId</code><br>The namespace identifier  </p>
<p><code>string streamViewId</code><br>The stream view identifier  </p>
<p><strong>Response</strong><br>The response includes a status code.</p>
<p><strong>.NET Library</strong></p>
<pre><code class="lang-csharp">   Task DeleteStreamViewAsync(string streamViewId);
</code></pre><hr>
<h2 id="get-stream-views-access-control-list"><code>Get Stream Views Access Control List</code></h2>
<p>Get the default ACL for the Stream Views collection. For more information on ACLs, see <a href="xref:accesscontrol">Access Control</a>.</p>
<p><strong>Request</strong></p>
<pre><code>    GET api/v1-preview/Tenants/{tenantId}/Namespaces/{namespaceId}/StreamViews/AccessControl
</code></pre><p><strong>Parameters</strong></p>
<p><code>string tenantId</code><br>The tenant identifier  </p>
<p><code>string namespaceId</code><br>The namespace identifier  </p>
<p><strong>Response</strong><br>The response includes a status code and a response body.</p>
<p><strong>Response body</strong><br>The default ACL for Stream Views</p>
<p><strong>.NET Library</strong></p>
<pre><code class="lang-csharp">   Task&lt;AccessControlList&gt; GetStreamViewsAccessControlListAsync();
</code></pre><hr>
<h2 id="update-stream-views-access-control-list"><code>Update Stream Views Access Control List</code></h2>
<p>Update the default ACL for the Stream Views collection. For more information on ACLs, see <a href="xref:accesscontrol">Access Control</a>.</p>
<p><strong>Request</strong></p>
<pre><code>    PUT api/v1-preview/Tenants/{tenantId}/Namespaces/{namespaceId}/StreamViews/AccessControl
</code></pre><p><strong>Parameters</strong></p>
<p><code>string tenantId</code><br>The tenant identifier  </p>
<p><code>string namespaceId</code><br>The namespace identifier  </p>
<p><strong>Request body</strong><br>Serialized ACL</p>
<p><strong>Response</strong><br>The response includes a status code.</p>
<p><strong>.NET Library</strong></p>
<pre><code class="lang-csharp">   Task UpdateStreamViewsAccessControlListAsync(AccessControlList viewsAcl);
</code></pre><hr>
<h2 id="get-stream-view-access-control-list"><code>Get Stream View Access Control List</code></h2>
<p>Get the ACL of the specified stream view. For more information on ACLs, see <a href="xref:accesscontrol">Access Control</a>.</p>
<p><strong>Request</strong></p>
<pre><code>    GET api/v1-preview/Tenants/{tenantId}/Namespaces/{namespaceId}/StreamViews/{streamViewId}/AccessControl
</code></pre><p><strong>Parameters</strong></p>
<p><code>string tenantId</code><br>The tenant identifier  </p>
<p><code>string namespaceId</code><br>The namespace identifier  </p>
<p><code>string streamViewId</code><br>The stream view identifier  </p>
<p><strong>Response</strong><br>The response includes a status code and a response body.</p>
<p><strong>Response Body</strong><br>The ACL for the specified stream view</p>
<p><strong>.NET Library</strong></p>
<pre><code class="lang-csharp">   Task&lt;AccessControlList&gt; GetStreamViewAccessControlListAsync(string streamViewId);
</code></pre><hr>
<h2 id="update-stream-view-access-control-list"><code>Update Stream View Access Control List</code></h2>
<p>Update the ACL of the specified stream view. For more information on ACLs, see <a href="xref:accesscontrol">Access Control</a>.</p>
<p><strong>Request</strong></p>
<pre><code>    PUT api/v1-preview/Tenants/{tenantId}/Namespaces/{namespaceId}/StreamViews/{streamViewId}/AccessControl
</code></pre><p><strong>Parameters</strong></p>
<p><code>string tenantId</code><br>The tenant identifier  </p>
<p><code>string namespaceId</code><br>The namespace identifier  </p>
<p><code>string streamViewId</code><br>The stream view identifier  </p>
<p><strong>Request body</strong><br>Serialized ACL</p>
<p><strong>Response</strong><br>The response includes a status code.</p>
<p><strong>.NET Library</strong></p>
<pre><code class="lang-csharp">   Task UpdateStreamViewAccessControlListAsync(string streamViewId, AccessControlList viewAcl);
</code></pre><hr>
<h2 id="get-stream-view-owner"><code>Get Stream View Owner</code></h2>
<p>Get the Owner of the specified stream view. For more information on Owners, see <a href="xref:accesscontrol">Access Control</a>.</p>
<p><strong>Request</strong></p>
<pre><code>    GET api/v1-preview/Tenants/{tenantId}/Namespaces/{namespaceId}/StreamViews/{streamViewId}/Owner
</code></pre><p><strong>Parameters</strong></p>
<p><code>string tenantId</code><br>The tenant identifier  </p>
<p><code>string namespaceId</code><br>The namespace identifier  </p>
<p><code>string streamViewId</code><br>The stream view identifier  </p>
<p><strong>Response</strong><br>The response includes a status code and a response body.</p>
<p><strong>Response Body</strong><br>The Owner for the specified stream view</p>
<p><strong>.NET Library</strong></p>
<pre><code class="lang-csharp">   Task&lt;Trustee&gt; GetStreamViewOwnerAsync(string streamViewId);
</code></pre><hr>
<h2 id="update-stream-view-owner"><code>Update Stream View Owner</code></h2>
<p>Update the Owner of the specified stream view. For more information on Owners, see <a href="xref:accesscontrol">Access Control</a>.</p>
<p><strong>Request</strong></p>
<pre><code>    PUT api/v1-preview/Tenants/{tenantId}/Namespaces/{namespaceId}/StreamViews/{streamViewId}/Owner
</code></pre><p><strong>Parameters</strong></p>
<p><code>string tenantId</code><br>The tenant identifier  </p>
<p><code>string namespaceId</code><br>The namespace identifier  </p>
<p><code>string streamViewId</code><br>The stream view identifier  </p>
<p><strong>Request body</strong><br>Serialized Owner</p>
<p><strong>Response</strong><br>The response includes a status code.</p>
<p><strong>.NET Library</strong></p>
<pre><code class="lang-csharp">   Task UpdateStreamViewOwnerAsync(string streamViewId, Trustee viewOwner);
</code></pre></article>
          </div>
          
          <div class="hidden-sm col-md-2" role="complementary">
            <div class="sideaffix">
              <div class="contribution">
                <ul class="nav">
                  <li>
                    <a href="https://github.com/osisoft/OCS-Docs/blob/master/Documentation/SequentialDataStore/SDS_Views.md/#L1" class="contribution-link">Improve this Doc</a>
                  </li>
                </ul>
              </div>
              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
              <!-- <p><a class="back-to-top" href="#top">Back to top</a><p> -->
              </nav>
            </div>
          </div>
        </div>
      </div>
      
      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
            <span id='copyright-text'>© 2019 - OSIsoft, LLC.<span>
        </span></span></div>
      </footer>
    </div>
    
    <script type="text/javascript" src="../../styles/docfx.vendor.js"></script>
    <script type="text/javascript" src="../../styles/docfx.js"></script>
    <script type="text/javascript" src="../../styles/main.js"></script>
  </body>
</html>
